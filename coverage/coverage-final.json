{"/Users/nvaithyanathan/Desktop/Node/library-application/library-app/db/db.js":{"path":"/Users/nvaithyanathan/Desktop/Node/library-application/library-app/db/db.js","statementMap":{"0":{"start":{"line":1,"column":37},"end":{"line":1,"column":99}},"1":{"start":{"line":1,"column":99},"end":{"line":1,"column":122}},"2":{"start":{"line":4,"column":179},"end":{"line":4,"column":233}},"3":{"start":{"line":4,"column":266},"end":{"line":4,"column":666}},"4":{"start":{"line":4,"column":296},"end":{"line":4,"column":321}},"5":{"start":{"line":4,"column":322},"end":{"line":4,"column":664}},"6":{"start":{"line":4,"column":394},"end":{"line":4,"column":486}},"7":{"start":{"line":4,"column":410},"end":{"line":4,"column":423}},"8":{"start":{"line":4,"column":436},"end":{"line":4,"column":446}},"9":{"start":{"line":4,"column":464},"end":{"line":4,"column":478}},"10":{"start":{"line":4,"column":478},"end":{"line":4,"column":485}},"11":{"start":{"line":4,"column":486},"end":{"line":4,"column":640}},"12":{"start":{"line":4,"column":502},"end":{"line":4,"column":517}},"13":{"start":{"line":4,"column":525},"end":{"line":4,"column":639}},"14":{"start":{"line":4,"column":578},"end":{"line":4,"column":598}},"15":{"start":{"line":4,"column":617},"end":{"line":4,"column":636}},"16":{"start":{"line":4,"column":641},"end":{"line":4,"column":661}},"17":{"start":{"line":6,"column":9},"end":{"line":6,"column":11}},"18":{"start":{"line":8,"column":0},"end":{"line":10,"column":174}},"19":{"start":{"line":8,"column":65},"end":{"line":10,"column":105}},"20":{"start":{"line":10,"column":106},"end":{"line":10,"column":170}},"21":{"start":{"line":10,"column":133},"end":{"line":10,"column":168}},"22":{"start":{"line":13,"column":18},"end":{"line":13,"column":23}},"23":{"start":{"line":14,"column":0},"end":{"line":35,"column":78}},"24":{"start":{"line":38,"column":0},"end":{"line":46,"column":200}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":4,"column":150},"end":{"line":4,"column":172}},"loc":{"start":{"line":4,"column":178},"end":{"line":4,"column":234}},"line":4},"1":{"name":"_asyncToGenerator","decl":{"start":{"line":4,"column":243},"end":{"line":4,"column":260}},"loc":{"start":{"line":4,"column":265},"end":{"line":4,"column":667}},"line":4},"2":{"name":"(anonymous_2)","decl":{"start":{"line":4,"column":273},"end":{"line":4,"column":274}},"loc":{"start":{"line":4,"column":285},"end":{"line":4,"column":665}},"line":4},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":341},"end":{"line":4,"column":342}},"loc":{"start":{"line":4,"column":368},"end":{"line":4,"column":662}},"line":4},"4":{"name":"step","decl":{"start":{"line":4,"column":378},"end":{"line":4,"column":382}},"loc":{"start":{"line":4,"column":393},"end":{"line":4,"column":641}},"line":4},"5":{"name":"(anonymous_5)","decl":{"start":{"line":4,"column":560},"end":{"line":4,"column":561}},"loc":{"start":{"line":4,"column":577},"end":{"line":4,"column":599}},"line":4},"6":{"name":"(anonymous_6)","decl":{"start":{"line":4,"column":601},"end":{"line":4,"column":602}},"loc":{"start":{"line":4,"column":616},"end":{"line":4,"column":637}},"line":4},"7":{"name":"(anonymous_7)","decl":{"start":{"line":8,"column":41},"end":{"line":8,"column":42}},"loc":{"start":{"line":8,"column":53},"end":{"line":10,"column":171}},"line":8},"8":{"name":"_callee","decl":{"start":{"line":8,"column":154},"end":{"line":8,"column":161}},"loc":{"start":{"line":8,"column":199},"end":{"line":10,"column":103}},"line":8},"9":{"name":"(anonymous_9)","decl":{"start":{"line":10,"column":113},"end":{"line":10,"column":114}},"loc":{"start":{"line":10,"column":132},"end":{"line":10,"column":169}},"line":10},"10":{"name":"_callee2","decl":{"start":{"line":14,"column":131},"end":{"line":14,"column":139}},"loc":{"start":{"line":14,"column":166},"end":{"line":35,"column":75}},"line":14},"11":{"name":"_callee3","decl":{"start":{"line":38,"column":129},"end":{"line":38,"column":137}},"loc":{"start":{"line":38,"column":164},"end":{"line":46,"column":197}},"line":38}},"branchMap":{"0":{"loc":{"start":{"line":4,"column":186},"end":{"line":4,"column":232}},"type":"cond-expr","locations":[{"start":{"line":4,"column":210},"end":{"line":4,"column":213}},{"start":{"line":4,"column":216},"end":{"line":4,"column":232}}],"line":4},"1":{"loc":{"start":{"line":4,"column":186},"end":{"line":4,"column":207}},"type":"binary-expr","locations":[{"start":{"line":4,"column":186},"end":{"line":4,"column":189}},{"start":{"line":4,"column":193},"end":{"line":4,"column":207}}],"line":4},"2":{"loc":{"start":{"line":4,"column":486},"end":{"line":4,"column":640}},"type":"if","locations":[{"start":{"line":4,"column":486},"end":{"line":4,"column":640}},{"start":{"line":4,"column":486},"end":{"line":4,"column":640}}],"line":4}},"s":{"0":2,"1":2,"2":8,"3":6,"4":4,"5":4,"6":10,"7":10,"8":10,"9":0,"10":0,"11":10,"12":4,"13":6,"14":6,"15":0,"16":4,"17":2,"18":2,"19":2,"20":2,"21":0,"22":2,"23":2,"24":2},"f":{"0":8,"1":6,"2":4,"3":4,"4":10,"5":6,"6":0,"7":2,"8":0,"9":0,"10":2,"11":2},"b":{"0":[6,2],"1":[8,8],"2":[4,6]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"1c4df98a5bc823740010cfe1a5f0a848b39d3f98","code":["import Sequelize from 'sequelize';","import logger from '../logger.js';","import bookModel from '../models/book.js';","import memberModel from '../models/member.js';","","const db = {};","","db.transaction = async (f, username) => {","\tawait db.initializeDb();","\tawait db.sequelize.transaction(f);","};","","let initialized = false;","db.initializeDb = async () => {","\tif (!initialized) {","\t\tlet connectionString = '';","\t\tif (process.env.NODE_ENV === 'test') {","\t\t\tlogger.info('Connecting to test database.');","\t\t\tconnectionString = 'postgres://nvaithyanathan:lkas1234QQ@localhost:5432/library_test';","\t\t}","\t\telse {","\t\t\tconnectionString = 'postgres://nvaithyanathan:lkas1234QQ@localhost:5432/library';","\t\t}","","\t\tconst sequelize = new Sequelize(connectionString, {","\t\t\tlogging: false,","\t\t\tquery: {","\t\t\t\traw: true,","\t\t\t},","\t\t});","\t\tdb.member = memberModel(sequelize);","\t\tdb.book = bookModel(sequelize);","\t\tdb.sequelize = sequelize;","\t\tinitialized = true;","\t}","};","","db.syncSchema = async (force = false) => {","\ttry {","\t\tconst params = { force };\t","\t\tawait db.initializeDb();","\t\tawait db.member.sync(params);","\t\tawait db.book.sync(params);","\t}","\tcatch (e) {","\t\tlogger.error(e);","\t}","};","","export { db };",""]},"/Users/nvaithyanathan/Desktop/Node/library-application/library-app/logger.js":{"path":"/Users/nvaithyanathan/Desktop/Node/library-application/library-app/logger.js","statementMap":{"0":{"start":{"line":1,"column":37},"end":{"line":1,"column":99}},"1":{"start":{"line":1,"column":311},"end":{"line":1,"column":365}},"2":{"start":{"line":3,"column":13},"end":{"line":5,"column":18}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":1,"column":282},"end":{"line":1,"column":304}},"loc":{"start":{"line":1,"column":310},"end":{"line":1,"column":366}},"line":1}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":318},"end":{"line":1,"column":364}},"type":"cond-expr","locations":[{"start":{"line":1,"column":342},"end":{"line":1,"column":345}},{"start":{"line":1,"column":348},"end":{"line":1,"column":364}}],"line":1},"1":{"loc":{"start":{"line":1,"column":318},"end":{"line":1,"column":339}},"type":"binary-expr","locations":[{"start":{"line":1,"column":318},"end":{"line":1,"column":321}},{"start":{"line":1,"column":325},"end":{"line":1,"column":339}}],"line":1}},"s":{"0":2,"1":2,"2":2},"f":{"0":2},"b":{"0":[0,2],"1":[2,2]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"37f4279bebdca0f00baafebcd9b1ac0fea899ca8","code":["import Logger from '@athena/app-fabric-logger';","","const logger = new Logger({","\tprettyPrint: true,","\tcolorize: true,","});","","export default logger;",""]},"/Users/nvaithyanathan/Desktop/Node/library-application/library-app/models/book.js":{"path":"/Users/nvaithyanathan/Desktop/Node/library-application/library-app/models/book.js","statementMap":{"0":{"start":{"line":1,"column":37},"end":{"line":1,"column":99}},"1":{"start":{"line":2,"column":171},"end":{"line":2,"column":225}},"2":{"start":{"line":2,"column":226},"end":{"line":48,"column":21}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":2,"column":142},"end":{"line":2,"column":164}},"loc":{"start":{"line":2,"column":170},"end":{"line":2,"column":226}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":4,"column":0},"end":{"line":4,"column":1}},"loc":{"start":{"line":4,"column":53},"end":{"line":48,"column":20}},"line":4}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":178},"end":{"line":2,"column":224}},"type":"cond-expr","locations":[{"start":{"line":2,"column":202},"end":{"line":2,"column":205}},{"start":{"line":2,"column":208},"end":{"line":2,"column":224}}],"line":2},"1":{"loc":{"start":{"line":2,"column":178},"end":{"line":2,"column":199}},"type":"binary-expr","locations":[{"start":{"line":2,"column":178},"end":{"line":2,"column":181}},{"start":{"line":2,"column":185},"end":{"line":2,"column":199}}],"line":2}},"s":{"0":2,"1":4,"2":2},"f":{"0":4,"1":2},"b":{"0":[2,2],"1":[4,4]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"29dae54e38687e4e7acf04afd89be14d47f65508","code":["import Sequelize from 'sequelize';","import member from './member.js';","","export default (sequelizeInstance) => sequelizeInstance.define('book', {","    name: {","        field: 'name',","        type: Sequelize.STRING(20),","        notNull: true","    },","    author: {","        field: 'author',","        type: Sequelize.STRING(20),","        notNull: true","    },","    publishedDate: {","        field: 'publisheddate',","        type: Sequelize.DATE","    },","    edition: {","        field: 'edition',","        type: Sequelize.STRING(2)","    },","    shelfNumber: {","        field: 'shelfnumber',","        type: Sequelize.STRING(2),","        notNull: true","    },","    deleted: {","        field: 'deleted',","        type: Sequelize.BOOLEAN,","        notNull: true,","        defaultValue: false","    },","    noOfBooksAvailable: {","        field: 'noofbooksavailable',","        type: Sequelize.INTEGER,","        notNull: true","    }","}, {","    hooks: {","        beforeValidate: function (bookInstance) {","            console.log('Check what changed instead of updating all the fields passed in.');","            // console.log(bookInstance.changed());","            if (1) {","                // console.log('Skipping update because nothing has changed.');","                return true;","            }","        }","    }","});","",""]},"/Users/nvaithyanathan/Desktop/Node/library-application/library-app/models/member.js":{"path":"/Users/nvaithyanathan/Desktop/Node/library-application/library-app/models/member.js","statementMap":{"0":{"start":{"line":1,"column":37},"end":{"line":1,"column":99}},"1":{"start":{"line":1,"column":277},"end":{"line":1,"column":331}},"2":{"start":{"line":1,"column":332},"end":{"line":37,"column":39}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":1,"column":248},"end":{"line":1,"column":270}},"loc":{"start":{"line":1,"column":276},"end":{"line":1,"column":332}},"line":1},"1":{"name":"(anonymous_1)","decl":{"start":{"line":3,"column":0},"end":{"line":3,"column":1}},"loc":{"start":{"line":3,"column":53},"end":{"line":37,"column":38}},"line":3}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":284},"end":{"line":1,"column":330}},"type":"cond-expr","locations":[{"start":{"line":1,"column":308},"end":{"line":1,"column":311}},{"start":{"line":1,"column":314},"end":{"line":1,"column":330}}],"line":1},"1":{"loc":{"start":{"line":1,"column":284},"end":{"line":1,"column":305}},"type":"binary-expr","locations":[{"start":{"line":1,"column":284},"end":{"line":1,"column":287}},{"start":{"line":1,"column":291},"end":{"line":1,"column":305}}],"line":1}},"s":{"0":2,"1":2,"2":2},"f":{"0":2,"1":2},"b":{"0":[0,2],"1":[2,2]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"3e0de6c13a16d444a5d34fc653ef324703c12990","code":["import Sequelize from 'sequelize';","","export default (sequelizeInstance) => sequelizeInstance.define('member', {","    username: {","        field: 'username',","        type: Sequelize.STRING(20),","        notNull: true","    },","    noOfBooksTaken: {","        field: 'noofbookstaken',","        type: Sequelize.INTEGER,","        notNull: true,","        defaultValue: 0","    },","    contactNumber: {","        field: 'contactnumber',","        type: Sequelize.STRING(10)","    },","    amountDue: {","        field: 'amountdue',","        type: Sequelize.FLOAT,","        notNull: true,","        defaultValue: 0","    },","    joinedOn: {","        field: 'joinedon',","        type: Sequelize.DATE,","        notNull: true,","        defaultValue: function () {","            const date = new Date();","            return date.getDate();","        }","    },","    unRegisteredYN: {","        field: 'unregisteredyn',","        type: Sequelize.BOOLEAN,","        defaultValue: false","    }   ","});","",""]},"/Users/nvaithyanathan/Desktop/Node/library-application/library-app/server/server.js":{"path":"/Users/nvaithyanathan/Desktop/Node/library-application/library-app/server/server.js","statementMap":{"0":{"start":{"line":1,"column":37},"end":{"line":1,"column":99}},"1":{"start":{"line":6,"column":226},"end":{"line":6,"column":244}},"2":{"start":{"line":6,"column":262},"end":{"line":6,"column":284}},"3":{"start":{"line":8,"column":10},"end":{"line":8,"column":19}},"4":{"start":{"line":9,"column":11},"end":{"line":9,"column":15}},"5":{"start":{"line":11,"column":0},"end":{"line":14,"column":3}},"6":{"start":{"line":13,"column":2},"end":{"line":13,"column":9}},"7":{"start":{"line":16,"column":0},"end":{"line":16,"column":27}},"8":{"start":{"line":18,"column":0},"end":{"line":18,"column":124}},"9":{"start":{"line":19,"column":0},"end":{"line":19,"column":128}},"10":{"start":{"line":21,"column":0},"end":{"line":28,"column":1}},"11":{"start":{"line":23,"column":2},"end":{"line":26,"column":5}},"12":{"start":{"line":25,"column":4},"end":{"line":25,"column":84}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":11,"column":8},"end":{"line":11,"column":9}},"loc":{"start":{"line":11,"column":34},"end":{"line":14,"column":1}},"line":11},"1":{"name":"(anonymous_1)","decl":{"start":{"line":23,"column":19},"end":{"line":23,"column":20}},"loc":{"start":{"line":23,"column":31},"end":{"line":26,"column":3}},"line":23}},"branchMap":{"0":{"loc":{"start":{"line":21,"column":0},"end":{"line":28,"column":1}},"type":"if","locations":[{"start":{"line":21,"column":0},"end":{"line":28,"column":1}},{"start":{"line":21,"column":0},"end":{"line":28,"column":1}}],"line":21}},"s":{"0":2,"1":2,"2":2,"3":2,"4":2,"5":2,"6":29,"7":2,"8":2,"9":2,"10":2,"11":0,"12":0},"f":{"0":29,"1":0},"b":{"0":[0,2]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"b9783b930cd822be267928d66c72fbd16ac45e1b","code":["const express = require('express');\r","const bodyParser = require('body-parser');\r","import logger from '../logger.js';\r","import { db } from '../db/db.js'\r","import { bookRouter } from '../controllers/bookController.js';\r","import { memberRouter } from '../controllers/memberController.js';\r","\r","const app = express();\r","const port = 8080;\r","\r","app.use((req, res, next) => {\r","  logger.info(`Incoming request.`);\r","  next();\r","});\r","\r","app.use(bodyParser.json());\r","\r","app.use('/api', bookRouter());\r","app.use('/api', memberRouter());\r","\r","if (process.env.NODE_ENV !== 'test') {\r","\r","  app.listen(port, () => {\r","    db.syncSchema();\r","    console.log(`Server is running on port ${port}.`);\r","  })\r","  \r","}\r","\r","export default app;"]},"/Users/nvaithyanathan/Desktop/Node/library-application/library-app/controllers/bookController.js":{"path":"/Users/nvaithyanathan/Desktop/Node/library-application/library-app/controllers/bookController.js","statementMap":{"0":{"start":{"line":1,"column":37},"end":{"line":1,"column":99}},"1":{"start":{"line":1,"column":99},"end":{"line":1,"column":130}},"2":{"start":{"line":3,"column":170},"end":{"line":3,"column":224}},"3":{"start":{"line":3,"column":257},"end":{"line":3,"column":657}},"4":{"start":{"line":3,"column":287},"end":{"line":3,"column":312}},"5":{"start":{"line":3,"column":313},"end":{"line":3,"column":655}},"6":{"start":{"line":3,"column":385},"end":{"line":3,"column":477}},"7":{"start":{"line":3,"column":401},"end":{"line":3,"column":414}},"8":{"start":{"line":3,"column":427},"end":{"line":3,"column":437}},"9":{"start":{"line":3,"column":455},"end":{"line":3,"column":469}},"10":{"start":{"line":3,"column":469},"end":{"line":3,"column":476}},"11":{"start":{"line":3,"column":477},"end":{"line":3,"column":631}},"12":{"start":{"line":3,"column":493},"end":{"line":3,"column":508}},"13":{"start":{"line":3,"column":516},"end":{"line":3,"column":630}},"14":{"start":{"line":3,"column":569},"end":{"line":3,"column":589}},"15":{"start":{"line":3,"column":608},"end":{"line":3,"column":627}},"16":{"start":{"line":3,"column":632},"end":{"line":3,"column":652}},"17":{"start":{"line":5,"column":41},"end":{"line":19,"column":1}},"18":{"start":{"line":7,"column":45},"end":{"line":7,"column":96}},"19":{"start":{"line":9,"column":4},"end":{"line":9,"column":687}},"20":{"start":{"line":9,"column":78},"end":{"line":9,"column":617}},"21":{"start":{"line":9,"column":618},"end":{"line":9,"column":682}},"22":{"start":{"line":9,"column":645},"end":{"line":9,"column":680}},"23":{"start":{"line":10,"column":4},"end":{"line":10,"column":701}},"24":{"start":{"line":10,"column":78},"end":{"line":10,"column":629}},"25":{"start":{"line":10,"column":630},"end":{"line":10,"column":696}},"26":{"start":{"line":10,"column":658},"end":{"line":10,"column":694}},"27":{"start":{"line":11,"column":4},"end":{"line":11,"column":701}},"28":{"start":{"line":11,"column":82},"end":{"line":11,"column":629}},"29":{"start":{"line":11,"column":630},"end":{"line":11,"column":696}},"30":{"start":{"line":11,"column":658},"end":{"line":11,"column":694}},"31":{"start":{"line":12,"column":4},"end":{"line":12,"column":726}},"32":{"start":{"line":12,"column":95},"end":{"line":12,"column":654}},"33":{"start":{"line":12,"column":655},"end":{"line":12,"column":721}},"34":{"start":{"line":12,"column":683},"end":{"line":12,"column":719}},"35":{"start":{"line":13,"column":4},"end":{"line":13,"column":707}},"36":{"start":{"line":13,"column":84},"end":{"line":13,"column":634}},"37":{"start":{"line":13,"column":635},"end":{"line":13,"column":702}},"38":{"start":{"line":13,"column":664},"end":{"line":13,"column":700}},"39":{"start":{"line":14,"column":4},"end":{"line":14,"column":710}},"40":{"start":{"line":14,"column":86},"end":{"line":14,"column":636}},"41":{"start":{"line":14,"column":637},"end":{"line":14,"column":705}},"42":{"start":{"line":14,"column":667},"end":{"line":14,"column":703}},"43":{"start":{"line":15,"column":4},"end":{"line":15,"column":710}},"44":{"start":{"line":15,"column":86},"end":{"line":15,"column":636}},"45":{"start":{"line":15,"column":637},"end":{"line":15,"column":705}},"46":{"start":{"line":15,"column":667},"end":{"line":15,"column":703}},"47":{"start":{"line":16,"column":4},"end":{"line":16,"column":709}},"48":{"start":{"line":16,"column":85},"end":{"line":16,"column":635}},"49":{"start":{"line":16,"column":636},"end":{"line":16,"column":704}},"50":{"start":{"line":16,"column":666},"end":{"line":16,"column":702}},"51":{"start":{"line":18,"column":4},"end":{"line":18,"column":22}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":3,"column":141},"end":{"line":3,"column":163}},"loc":{"start":{"line":3,"column":169},"end":{"line":3,"column":225}},"line":3},"1":{"name":"_asyncToGenerator","decl":{"start":{"line":3,"column":234},"end":{"line":3,"column":251}},"loc":{"start":{"line":3,"column":256},"end":{"line":3,"column":658}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":264},"end":{"line":3,"column":265}},"loc":{"start":{"line":3,"column":276},"end":{"line":3,"column":656}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":3,"column":332},"end":{"line":3,"column":333}},"loc":{"start":{"line":3,"column":359},"end":{"line":3,"column":653}},"line":3},"4":{"name":"step","decl":{"start":{"line":3,"column":369},"end":{"line":3,"column":373}},"loc":{"start":{"line":3,"column":384},"end":{"line":3,"column":632}},"line":3},"5":{"name":"(anonymous_5)","decl":{"start":{"line":3,"column":551},"end":{"line":3,"column":552}},"loc":{"start":{"line":3,"column":568},"end":{"line":3,"column":590}},"line":3},"6":{"name":"(anonymous_6)","decl":{"start":{"line":3,"column":592},"end":{"line":3,"column":593}},"loc":{"start":{"line":3,"column":607},"end":{"line":3,"column":628}},"line":3},"7":{"name":"bookRouter","decl":{"start":{"line":5,"column":95},"end":{"line":5,"column":105}},"loc":{"start":{"line":5,"column":108},"end":{"line":19,"column":1}},"line":5},"8":{"name":"(anonymous_8)","decl":{"start":{"line":9,"column":54},"end":{"line":9,"column":55}},"loc":{"start":{"line":9,"column":66},"end":{"line":9,"column":683}},"line":9},"9":{"name":"_callee","decl":{"start":{"line":9,"column":167},"end":{"line":9,"column":174}},"loc":{"start":{"line":9,"column":209},"end":{"line":9,"column":615}},"line":9},"10":{"name":"(anonymous_10)","decl":{"start":{"line":9,"column":625},"end":{"line":9,"column":626}},"loc":{"start":{"line":9,"column":644},"end":{"line":9,"column":681}},"line":9},"11":{"name":"(anonymous_11)","decl":{"start":{"line":10,"column":53},"end":{"line":10,"column":54}},"loc":{"start":{"line":10,"column":65},"end":{"line":10,"column":697}},"line":10},"12":{"name":"_callee2","decl":{"start":{"line":10,"column":167},"end":{"line":10,"column":175}},"loc":{"start":{"line":10,"column":210},"end":{"line":10,"column":627}},"line":10},"13":{"name":"(anonymous_13)","decl":{"start":{"line":10,"column":637},"end":{"line":10,"column":638}},"loc":{"start":{"line":10,"column":657},"end":{"line":10,"column":695}},"line":10},"14":{"name":"(anonymous_14)","decl":{"start":{"line":11,"column":57},"end":{"line":11,"column":58}},"loc":{"start":{"line":11,"column":69},"end":{"line":11,"column":697}},"line":11},"15":{"name":"_callee3","decl":{"start":{"line":11,"column":171},"end":{"line":11,"column":179}},"loc":{"start":{"line":11,"column":214},"end":{"line":11,"column":627}},"line":11},"16":{"name":"(anonymous_16)","decl":{"start":{"line":11,"column":637},"end":{"line":11,"column":638}},"loc":{"start":{"line":11,"column":657},"end":{"line":11,"column":695}},"line":11},"17":{"name":"(anonymous_17)","decl":{"start":{"line":12,"column":70},"end":{"line":12,"column":71}},"loc":{"start":{"line":12,"column":82},"end":{"line":12,"column":722}},"line":12},"18":{"name":"_callee4","decl":{"start":{"line":12,"column":184},"end":{"line":12,"column":192}},"loc":{"start":{"line":12,"column":227},"end":{"line":12,"column":652}},"line":12},"19":{"name":"(anonymous_19)","decl":{"start":{"line":12,"column":662},"end":{"line":12,"column":663}},"loc":{"start":{"line":12,"column":682},"end":{"line":12,"column":720}},"line":12},"20":{"name":"(anonymous_20)","decl":{"start":{"line":13,"column":59},"end":{"line":13,"column":60}},"loc":{"start":{"line":13,"column":71},"end":{"line":13,"column":703}},"line":13},"21":{"name":"_callee5","decl":{"start":{"line":13,"column":173},"end":{"line":13,"column":181}},"loc":{"start":{"line":13,"column":216},"end":{"line":13,"column":632}},"line":13},"22":{"name":"(anonymous_22)","decl":{"start":{"line":13,"column":642},"end":{"line":13,"column":643}},"loc":{"start":{"line":13,"column":663},"end":{"line":13,"column":701}},"line":13},"23":{"name":"(anonymous_23)","decl":{"start":{"line":14,"column":61},"end":{"line":14,"column":62}},"loc":{"start":{"line":14,"column":73},"end":{"line":14,"column":706}},"line":14},"24":{"name":"_callee6","decl":{"start":{"line":14,"column":175},"end":{"line":14,"column":183}},"loc":{"start":{"line":14,"column":218},"end":{"line":14,"column":634}},"line":14},"25":{"name":"(anonymous_25)","decl":{"start":{"line":14,"column":644},"end":{"line":14,"column":645}},"loc":{"start":{"line":14,"column":666},"end":{"line":14,"column":704}},"line":14},"26":{"name":"(anonymous_26)","decl":{"start":{"line":15,"column":61},"end":{"line":15,"column":62}},"loc":{"start":{"line":15,"column":73},"end":{"line":15,"column":706}},"line":15},"27":{"name":"_callee7","decl":{"start":{"line":15,"column":175},"end":{"line":15,"column":183}},"loc":{"start":{"line":15,"column":218},"end":{"line":15,"column":634}},"line":15},"28":{"name":"(anonymous_28)","decl":{"start":{"line":15,"column":644},"end":{"line":15,"column":645}},"loc":{"start":{"line":15,"column":666},"end":{"line":15,"column":704}},"line":15},"29":{"name":"(anonymous_29)","decl":{"start":{"line":16,"column":60},"end":{"line":16,"column":61}},"loc":{"start":{"line":16,"column":72},"end":{"line":16,"column":705}},"line":16},"30":{"name":"_callee8","decl":{"start":{"line":16,"column":174},"end":{"line":16,"column":182}},"loc":{"start":{"line":16,"column":217},"end":{"line":16,"column":633}},"line":16},"31":{"name":"(anonymous_31)","decl":{"start":{"line":16,"column":643},"end":{"line":16,"column":644}},"loc":{"start":{"line":16,"column":665},"end":{"line":16,"column":703}},"line":16}},"branchMap":{"0":{"loc":{"start":{"line":3,"column":177},"end":{"line":3,"column":223}},"type":"cond-expr","locations":[{"start":{"line":3,"column":201},"end":{"line":3,"column":204}},{"start":{"line":3,"column":207},"end":{"line":3,"column":223}}],"line":3},"1":{"loc":{"start":{"line":3,"column":177},"end":{"line":3,"column":198}},"type":"binary-expr","locations":[{"start":{"line":3,"column":177},"end":{"line":3,"column":180}},{"start":{"line":3,"column":184},"end":{"line":3,"column":198}}],"line":3},"2":{"loc":{"start":{"line":3,"column":477},"end":{"line":3,"column":631}},"type":"if","locations":[{"start":{"line":3,"column":477},"end":{"line":3,"column":631}},{"start":{"line":3,"column":477},"end":{"line":3,"column":631}}],"line":3}},"s":{"0":2,"1":2,"2":4,"3":16,"4":17,"5":17,"6":17,"7":17,"8":17,"9":0,"10":0,"11":17,"12":17,"13":0,"14":0,"15":0,"16":17,"17":2,"18":2,"19":2,"20":2,"21":2,"22":12,"23":2,"24":2,"25":2,"26":1,"27":2,"28":2,"29":2,"30":2,"31":2,"32":2,"33":2,"34":2,"35":2,"36":2,"37":2,"38":0,"39":2,"40":2,"41":2,"42":0,"43":2,"44":2,"45":2,"46":0,"47":2,"48":2,"49":2,"50":0,"51":2},"f":{"0":4,"1":16,"2":17,"3":17,"4":17,"5":0,"6":0,"7":2,"8":2,"9":12,"10":12,"11":2,"12":1,"13":1,"14":2,"15":2,"16":2,"17":2,"18":2,"19":2,"20":2,"21":0,"22":0,"23":2,"24":0,"25":0,"26":2,"27":0,"28":0,"29":2,"30":0,"31":0},"b":{"0":[2,2],"1":[4,4],"2":[17,0]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"2f6202510576335abc29b26b1328d8c25fcd6b41","code":["import express from 'express';","import { requestHandler } from '../middleware/handlers.js';","import BookFunctions from '../logic/book.js';","","export const bookRouter = () => {","","    const bookRouter = express.Router();","    // Have a single handler for POST, pass type = 'CREATE' or 'BORROW' etc to redirect to correct function.","    bookRouter.post   ('/books',                  async (req, res) => requestHandler(req, res, BookFunctions.addBook));","    bookRouter.get    ('/books',                  async (req, res) => requestHandler(req, res, BookFunctions.getAllBooks));","    bookRouter.get    ('/books/:id',              async (req, res) => requestHandler(req, res, BookFunctions.getBook));","    bookRouter.get    ('/books/availability/:id', async (req, res) => requestHandler(req, res, BookFunctions.getBookAvailability));","    bookRouter.patch  ('/books/:id',              async (req, res) => requestHandler(req, res, BookFunctions.updateBook));","    bookRouter.post   ('/books/borrow',           async (req, res) => requestHandler(req, res, BookFunctions.borrowBook));","    bookRouter.post   ('/books/return',           async (req, res) => requestHandler(req, res, BookFunctions.returnBook));","    bookRouter.delete ('/books/:id',              async (req, res) => requestHandler(req, res, BookFunctions.deleteBook));","    // Don't use verbs in the route.","    return bookRouter;","};","",""]},"/Users/nvaithyanathan/Desktop/Node/library-application/library-app/middleware/handlers.js":{"path":"/Users/nvaithyanathan/Desktop/Node/library-application/library-app/middleware/handlers.js","statementMap":{"0":{"start":{"line":1,"column":37},"end":{"line":1,"column":99}},"1":{"start":{"line":1,"column":99},"end":{"line":1,"column":134}},"2":{"start":{"line":1,"column":306},"end":{"line":1,"column":360}},"3":{"start":{"line":1,"column":393},"end":{"line":1,"column":793}},"4":{"start":{"line":1,"column":423},"end":{"line":1,"column":448}},"5":{"start":{"line":1,"column":449},"end":{"line":1,"column":791}},"6":{"start":{"line":1,"column":521},"end":{"line":1,"column":613}},"7":{"start":{"line":1,"column":537},"end":{"line":1,"column":550}},"8":{"start":{"line":1,"column":563},"end":{"line":1,"column":573}},"9":{"start":{"line":1,"column":591},"end":{"line":1,"column":605}},"10":{"start":{"line":1,"column":605},"end":{"line":1,"column":612}},"11":{"start":{"line":1,"column":613},"end":{"line":1,"column":767}},"12":{"start":{"line":1,"column":629},"end":{"line":1,"column":644}},"13":{"start":{"line":1,"column":652},"end":{"line":1,"column":766}},"14":{"start":{"line":1,"column":705},"end":{"line":1,"column":725}},"15":{"start":{"line":1,"column":744},"end":{"line":1,"column":763}},"16":{"start":{"line":1,"column":768},"end":{"line":1,"column":788}},"17":{"start":{"line":3,"column":45},"end":{"line":40,"column":236}},"18":{"start":{"line":3,"column":94},"end":{"line":40,"column":149}},"19":{"start":{"line":40,"column":150},"end":{"line":40,"column":233}},"20":{"start":{"line":40,"column":196},"end":{"line":40,"column":231}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":1,"column":277},"end":{"line":1,"column":299}},"loc":{"start":{"line":1,"column":305},"end":{"line":1,"column":361}},"line":1},"1":{"name":"_asyncToGenerator","decl":{"start":{"line":1,"column":370},"end":{"line":1,"column":387}},"loc":{"start":{"line":1,"column":392},"end":{"line":1,"column":794}},"line":1},"2":{"name":"(anonymous_2)","decl":{"start":{"line":1,"column":400},"end":{"line":1,"column":401}},"loc":{"start":{"line":1,"column":412},"end":{"line":1,"column":792}},"line":1},"3":{"name":"(anonymous_3)","decl":{"start":{"line":1,"column":468},"end":{"line":1,"column":469}},"loc":{"start":{"line":1,"column":495},"end":{"line":1,"column":789}},"line":1},"4":{"name":"step","decl":{"start":{"line":1,"column":505},"end":{"line":1,"column":509}},"loc":{"start":{"line":1,"column":520},"end":{"line":1,"column":768}},"line":1},"5":{"name":"(anonymous_5)","decl":{"start":{"line":1,"column":687},"end":{"line":1,"column":688}},"loc":{"start":{"line":1,"column":704},"end":{"line":1,"column":726}},"line":1},"6":{"name":"(anonymous_6)","decl":{"start":{"line":1,"column":728},"end":{"line":1,"column":729}},"loc":{"start":{"line":1,"column":743},"end":{"line":1,"column":764}},"line":1},"7":{"name":"(anonymous_7)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":82},"end":{"line":40,"column":234}},"line":3},"8":{"name":"_callee","decl":{"start":{"line":3,"column":183},"end":{"line":3,"column":190}},"loc":{"start":{"line":3,"column":249},"end":{"line":40,"column":147}},"line":3},"9":{"name":"requestHandler","decl":{"start":{"line":40,"column":166},"end":{"line":40,"column":180}},"loc":{"start":{"line":40,"column":195},"end":{"line":40,"column":232}},"line":40}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":313},"end":{"line":1,"column":359}},"type":"cond-expr","locations":[{"start":{"line":1,"column":337},"end":{"line":1,"column":340}},{"start":{"line":1,"column":343},"end":{"line":1,"column":359}}],"line":1},"1":{"loc":{"start":{"line":1,"column":313},"end":{"line":1,"column":334}},"type":"binary-expr","locations":[{"start":{"line":1,"column":313},"end":{"line":1,"column":316}},{"start":{"line":1,"column":320},"end":{"line":1,"column":334}}],"line":1},"2":{"loc":{"start":{"line":1,"column":613},"end":{"line":1,"column":767}},"type":"if","locations":[{"start":{"line":1,"column":613},"end":{"line":1,"column":767}},{"start":{"line":1,"column":613},"end":{"line":1,"column":767}}],"line":1}},"s":{"0":2,"1":2,"2":2,"3":2,"4":29,"5":29,"6":58,"7":58,"8":58,"9":0,"10":0,"11":58,"12":29,"13":29,"14":14,"15":15,"16":29,"17":2,"18":2,"19":2,"20":29},"f":{"0":2,"1":2,"2":29,"3":29,"4":58,"5":14,"6":15,"7":2,"8":29,"9":29},"b":{"0":[2,0],"1":[2,2],"2":[29,29]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"3fa7293099877837515f23d082e7b60c14d889cc","code":["import logger from '../logger.js';","","export const requestHandler = async (req, res, requestHandlerFunction) => {","   ","    let result = {};","","    try {","","        result = await requestHandlerFunction(req);","","    }","    catch (error) {","","        logger.error(error);","       ","        result.status = 400;","        result.result = 'Unable to process your request.'","","        if (error) {","            result.error = error.toString();","        }","        ","    }","   ","    let jsonToReturn = {};","","    if (result.json) {","        jsonToReturn = result.json;","    }","    else {","        jsonToReturn = {","            result: result.result,","        };","","        if (result.error) {","            jsonToReturn.error = result.error.toString();","        }","    }","    console.log('JSON: ', JSON.stringify(jsonToReturn))","    res.status(result.status).json(jsonToReturn);","","}",""]},"/Users/nvaithyanathan/Desktop/Node/library-application/library-app/logic/book.js":{"path":"/Users/nvaithyanathan/Desktop/Node/library-application/library-app/logic/book.js","statementMap":{"0":{"start":{"line":1,"column":37},"end":{"line":1,"column":99}},"1":{"start":{"line":1,"column":118},"end":{"line":1,"column":647}},"2":{"start":{"line":1,"column":173},"end":{"line":1,"column":438}},"3":{"start":{"line":1,"column":230},"end":{"line":1,"column":238}},"4":{"start":{"line":1,"column":239},"end":{"line":1,"column":294}},"5":{"start":{"line":1,"column":294},"end":{"line":1,"column":325}},"6":{"start":{"line":1,"column":325},"end":{"line":1,"column":379}},"7":{"start":{"line":1,"column":352},"end":{"line":1,"column":379}},"8":{"start":{"line":1,"column":379},"end":{"line":1,"column":437}},"9":{"start":{"line":1,"column":439},"end":{"line":1,"column":644}},"10":{"start":{"line":1,"column":495},"end":{"line":1,"column":563}},"11":{"start":{"line":1,"column":511},"end":{"line":1,"column":563}},"12":{"start":{"line":1,"column":563},"end":{"line":1,"column":623}},"13":{"start":{"line":1,"column":580},"end":{"line":1,"column":623}},"14":{"start":{"line":1,"column":623},"end":{"line":1,"column":642}},"15":{"start":{"line":5,"column":225},"end":{"line":5,"column":372}},"16":{"start":{"line":5,"column":242},"end":{"line":5,"column":346}},"17":{"start":{"line":5,"column":354},"end":{"line":5,"column":371}},"18":{"start":{"line":5,"column":372},"end":{"line":5,"column":383}},"19":{"start":{"line":5,"column":416},"end":{"line":5,"column":816}},"20":{"start":{"line":5,"column":446},"end":{"line":5,"column":471}},"21":{"start":{"line":5,"column":472},"end":{"line":5,"column":814}},"22":{"start":{"line":5,"column":544},"end":{"line":5,"column":636}},"23":{"start":{"line":5,"column":560},"end":{"line":5,"column":573}},"24":{"start":{"line":5,"column":586},"end":{"line":5,"column":596}},"25":{"start":{"line":5,"column":614},"end":{"line":5,"column":628}},"26":{"start":{"line":5,"column":628},"end":{"line":5,"column":635}},"27":{"start":{"line":5,"column":636},"end":{"line":5,"column":790}},"28":{"start":{"line":5,"column":652},"end":{"line":5,"column":667}},"29":{"start":{"line":5,"column":675},"end":{"line":5,"column":789}},"30":{"start":{"line":5,"column":728},"end":{"line":5,"column":748}},"31":{"start":{"line":5,"column":767},"end":{"line":5,"column":786}},"32":{"start":{"line":5,"column":791},"end":{"line":5,"column":811}},"33":{"start":{"line":5,"column":866},"end":{"line":5,"column":965}},"34":{"start":{"line":5,"column":907},"end":{"line":5,"column":964}},"35":{"start":{"line":7,"column":7},"end":{"line":443,"column":265}},"36":{"start":{"line":13,"column":8},"end":{"line":13,"column":53}},"37":{"start":{"line":14,"column":8},"end":{"line":14,"column":75}},"38":{"start":{"line":15,"column":8},"end":{"line":15,"column":71}},"39":{"start":{"line":16,"column":5},"end":{"line":443,"column":250}},"40":{"start":{"line":16,"column":74},"end":{"line":74,"column":158}},"41":{"start":{"line":18,"column":209},"end":{"line":74,"column":155}},"42":{"start":{"line":18,"column":269},"end":{"line":74,"column":126}},"43":{"start":{"line":18,"column":280},"end":{"line":74,"column":125}},"44":{"start":{"line":19,"column":32},"end":{"line":19,"column":76}},"45":{"start":{"line":19,"column":76},"end":{"line":20,"column":600}},"46":{"start":{"line":21,"column":32},"end":{"line":21,"column":53}},"47":{"start":{"line":22,"column":32},"end":{"line":22,"column":54}},"48":{"start":{"line":24,"column":180},"end":{"line":24,"column":198}},"49":{"start":{"line":24,"column":198},"end":{"line":24,"column":216}},"50":{"start":{"line":24,"column":216},"end":{"line":33,"column":67}},"51":{"start":{"line":33,"column":74},"end":{"line":33,"column":103}},"52":{"start":{"line":33,"column":103},"end":{"line":37,"column":87}},"53":{"start":{"line":37,"column":61},"end":{"line":37,"column":80}},"54":{"start":{"line":37,"column":80},"end":{"line":37,"column":86}},"55":{"start":{"line":37,"column":87},"end":{"line":37,"column":106}},"56":{"start":{"line":37,"column":106},"end":{"line":44,"column":66}},"57":{"start":{"line":44,"column":74},"end":{"line":44,"column":102}},"58":{"start":{"line":44,"column":102},"end":{"line":44,"column":121}},"59":{"start":{"line":44,"column":121},"end":{"line":44,"column":127}},"60":{"start":{"line":44,"column":135},"end":{"line":44,"column":154}},"61":{"start":{"line":44,"column":154},"end":{"line":54,"column":73}},"62":{"start":{"line":58,"column":32},"end":{"line":58,"column":62}},"63":{"start":{"line":59,"column":32},"end":{"line":59,"column":68}},"64":{"start":{"line":59,"column":76},"end":{"line":64,"column":90}},"65":{"start":{"line":64,"column":98},"end":{"line":64,"column":117}},"66":{"start":{"line":64,"column":117},"end":{"line":64,"column":152}},"67":{"start":{"line":70,"column":142},"end":{"line":74,"column":82}},"68":{"start":{"line":74,"column":101},"end":{"line":74,"column":124}},"69":{"start":{"line":74,"column":181},"end":{"line":74,"column":216}},"70":{"start":{"line":74,"column":217},"end":{"line":74,"column":232}},"71":{"start":{"line":74,"column":293},"end":{"line":103,"column":160}},"72":{"start":{"line":80,"column":31},"end":{"line":103,"column":157}},"73":{"start":{"line":80,"column":93},"end":{"line":103,"column":128}},"74":{"start":{"line":80,"column":104},"end":{"line":103,"column":127}},"75":{"start":{"line":82,"column":32},"end":{"line":82,"column":50}},"76":{"start":{"line":82,"column":50},"end":{"line":82,"column":69}},"77":{"start":{"line":82,"column":69},"end":{"line":82,"column":88}},"78":{"start":{"line":82,"column":88},"end":{"line":87,"column":185}},"79":{"start":{"line":87,"column":192},"end":{"line":87,"column":218}},"80":{"start":{"line":87,"column":218},"end":{"line":93,"column":54}},"81":{"start":{"line":93,"column":61},"end":{"line":93,"column":80}},"82":{"start":{"line":93,"column":80},"end":{"line":93,"column":117}},"83":{"start":{"line":99,"column":143},"end":{"line":103,"column":83}},"84":{"start":{"line":103,"column":102},"end":{"line":103,"column":126}},"85":{"start":{"line":103,"column":188},"end":{"line":103,"column":224}},"86":{"start":{"line":103,"column":225},"end":{"line":103,"column":244}},"87":{"start":{"line":103,"column":301},"end":{"line":140,"column":161}},"88":{"start":{"line":109,"column":27},"end":{"line":140,"column":158}},"89":{"start":{"line":109,"column":89},"end":{"line":140,"column":128}},"90":{"start":{"line":109,"column":100},"end":{"line":140,"column":127}},"91":{"start":{"line":111,"column":32},"end":{"line":111,"column":46}},"92":{"start":{"line":111,"column":46},"end":{"line":111,"column":65}},"93":{"start":{"line":111,"column":65},"end":{"line":111,"column":84}},"94":{"start":{"line":111,"column":84},"end":{"line":117,"column":185}},"95":{"start":{"line":117,"column":192},"end":{"line":117,"column":214}},"96":{"start":{"line":117,"column":214},"end":{"line":121,"column":65}},"97":{"start":{"line":121,"column":39},"end":{"line":121,"column":58}},"98":{"start":{"line":121,"column":58},"end":{"line":121,"column":64}},"99":{"start":{"line":121,"column":65},"end":{"line":124,"column":90}},"100":{"start":{"line":124,"column":97},"end":{"line":130,"column":50}},"101":{"start":{"line":130,"column":58},"end":{"line":130,"column":78}},"102":{"start":{"line":130,"column":78},"end":{"line":130,"column":115}},"103":{"start":{"line":136,"column":143},"end":{"line":140,"column":83}},"104":{"start":{"line":140,"column":102},"end":{"line":140,"column":126}},"105":{"start":{"line":140,"column":185},"end":{"line":140,"column":221}},"106":{"start":{"line":140,"column":222},"end":{"line":140,"column":237}},"107":{"start":{"line":140,"column":308},"end":{"line":168,"column":119}},"108":{"start":{"line":146,"column":54},"end":{"line":168,"column":116}},"109":{"start":{"line":146,"column":116},"end":{"line":168,"column":86}},"110":{"start":{"line":146,"column":127},"end":{"line":168,"column":85}},"111":{"start":{"line":146,"column":176},"end":{"line":146,"column":195}},"112":{"start":{"line":146,"column":195},"end":{"line":146,"column":214}},"113":{"start":{"line":146,"column":214},"end":{"line":152,"column":185}},"114":{"start":{"line":152,"column":192},"end":{"line":152,"column":222}},"115":{"start":{"line":152,"column":222},"end":{"line":156,"column":73}},"116":{"start":{"line":156,"column":47},"end":{"line":156,"column":66}},"117":{"start":{"line":156,"column":66},"end":{"line":156,"column":72}},"118":{"start":{"line":156,"column":73},"end":{"line":157,"column":39}},"119":{"start":{"line":160,"column":32},"end":{"line":160,"column":104}},"120":{"start":{"line":160,"column":104},"end":{"line":162,"column":52}},"121":{"start":{"line":162,"column":60},"end":{"line":162,"column":80}},"122":{"start":{"line":162,"column":80},"end":{"line":162,"column":117}},"123":{"start":{"line":167,"column":143},"end":{"line":168,"column":41}},"124":{"start":{"line":168,"column":60},"end":{"line":168,"column":84}},"125":{"start":{"line":168,"column":157},"end":{"line":168,"column":193}},"126":{"start":{"line":168,"column":194},"end":{"line":168,"column":223}},"127":{"start":{"line":168,"column":283},"end":{"line":254,"column":192}},"128":{"start":{"line":173,"column":79},"end":{"line":254,"column":189}},"129":{"start":{"line":173,"column":141},"end":{"line":254,"column":158}},"130":{"start":{"line":173,"column":152},"end":{"line":254,"column":157}},"131":{"start":{"line":175,"column":32},"end":{"line":175,"column":57}},"132":{"start":{"line":176,"column":32},"end":{"line":176,"column":61}},"133":{"start":{"line":176,"column":61},"end":{"line":176,"column":80}},"134":{"start":{"line":176,"column":80},"end":{"line":181,"column":193}},"135":{"start":{"line":181,"column":200},"end":{"line":181,"column":232}},"136":{"start":{"line":181,"column":232},"end":{"line":185,"column":75}},"137":{"start":{"line":185,"column":49},"end":{"line":185,"column":68}},"138":{"start":{"line":185,"column":68},"end":{"line":185,"column":74}},"139":{"start":{"line":185,"column":75},"end":{"line":188,"column":149}},"140":{"start":{"line":188,"column":156},"end":{"line":192,"column":90}},"141":{"start":{"line":192,"column":64},"end":{"line":192,"column":83}},"142":{"start":{"line":192,"column":83},"end":{"line":192,"column":89}},"143":{"start":{"line":192,"column":90},"end":{"line":195,"column":154}},"144":{"start":{"line":195,"column":161},"end":{"line":195,"column":181}},"145":{"start":{"line":195,"column":181},"end":{"line":199,"column":72}},"146":{"start":{"line":199,"column":80},"end":{"line":199,"column":114}},"147":{"start":{"line":199,"column":114},"end":{"line":201,"column":88}},"148":{"start":{"line":201,"column":61},"end":{"line":201,"column":81}},"149":{"start":{"line":201,"column":81},"end":{"line":201,"column":87}},"150":{"start":{"line":201,"column":88},"end":{"line":201,"column":108}},"151":{"start":{"line":201,"column":108},"end":{"line":201,"column":128}},"152":{"start":{"line":201,"column":128},"end":{"line":208,"column":185}},"153":{"start":{"line":208,"column":193},"end":{"line":208,"column":215}},"154":{"start":{"line":208,"column":215},"end":{"line":208,"column":235}},"155":{"start":{"line":208,"column":235},"end":{"line":216,"column":61}},"156":{"start":{"line":216,"column":69},"end":{"line":216,"column":89}},"157":{"start":{"line":216,"column":89},"end":{"line":224,"column":63}},"158":{"start":{"line":224,"column":71},"end":{"line":230,"column":102}},"159":{"start":{"line":230,"column":110},"end":{"line":230,"column":130}},"160":{"start":{"line":230,"column":130},"end":{"line":230,"column":168}},"161":{"start":{"line":236,"column":143},"end":{"line":240,"column":83}},"162":{"start":{"line":240,"column":91},"end":{"line":240,"column":111}},"163":{"start":{"line":240,"column":111},"end":{"line":240,"column":117}},"164":{"start":{"line":240,"column":125},"end":{"line":245,"column":89}},"165":{"start":{"line":245,"column":62},"end":{"line":245,"column":82}},"166":{"start":{"line":245,"column":82},"end":{"line":245,"column":88}},"167":{"start":{"line":245,"column":89},"end":{"line":248,"column":91}},"168":{"start":{"line":248,"column":99},"end":{"line":254,"column":113}},"169":{"start":{"line":254,"column":132},"end":{"line":254,"column":156}},"170":{"start":{"line":254,"column":219},"end":{"line":254,"column":255}},"171":{"start":{"line":254,"column":256},"end":{"line":254,"column":274}},"172":{"start":{"line":254,"column":334},"end":{"line":322,"column":161}},"173":{"start":{"line":259,"column":61},"end":{"line":322,"column":158}},"174":{"start":{"line":259,"column":123},"end":{"line":322,"column":128}},"175":{"start":{"line":259,"column":134},"end":{"line":322,"column":127}},"176":{"start":{"line":261,"column":32},"end":{"line":261,"column":57}},"177":{"start":{"line":262,"column":32},"end":{"line":262,"column":61}},"178":{"start":{"line":262,"column":61},"end":{"line":262,"column":80}},"179":{"start":{"line":262,"column":80},"end":{"line":262,"column":99}},"180":{"start":{"line":262,"column":99},"end":{"line":269,"column":185}},"181":{"start":{"line":269,"column":192},"end":{"line":269,"column":214}},"182":{"start":{"line":269,"column":214},"end":{"line":269,"column":233}},"183":{"start":{"line":269,"column":233},"end":{"line":276,"column":192}},"184":{"start":{"line":276,"column":199},"end":{"line":276,"column":231}},"185":{"start":{"line":276,"column":231},"end":{"line":280,"column":76}},"186":{"start":{"line":280,"column":49},"end":{"line":280,"column":69}},"187":{"start":{"line":280,"column":69},"end":{"line":280,"column":75}},"188":{"start":{"line":280,"column":76},"end":{"line":283,"column":146}},"189":{"start":{"line":283,"column":154},"end":{"line":287,"column":66}},"190":{"start":{"line":287,"column":39},"end":{"line":287,"column":59}},"191":{"start":{"line":287,"column":59},"end":{"line":287,"column":65}},"192":{"start":{"line":287,"column":66},"end":{"line":290,"column":94}},"193":{"start":{"line":290,"column":102},"end":{"line":290,"column":122}},"194":{"start":{"line":290,"column":122},"end":{"line":298,"column":61}},"195":{"start":{"line":298,"column":69},"end":{"line":298,"column":89}},"196":{"start":{"line":298,"column":89},"end":{"line":306,"column":63}},"197":{"start":{"line":306,"column":71},"end":{"line":312,"column":92}},"198":{"start":{"line":312,"column":100},"end":{"line":312,"column":120}},"199":{"start":{"line":312,"column":120},"end":{"line":312,"column":157}},"200":{"start":{"line":318,"column":143},"end":{"line":322,"column":83}},"201":{"start":{"line":322,"column":102},"end":{"line":322,"column":126}},"202":{"start":{"line":322,"column":188},"end":{"line":322,"column":224}},"203":{"start":{"line":322,"column":225},"end":{"line":322,"column":243}},"204":{"start":{"line":322,"column":303},"end":{"line":381,"column":161}},"205":{"start":{"line":328,"column":222},"end":{"line":381,"column":158}},"206":{"start":{"line":328,"column":284},"end":{"line":381,"column":128}},"207":{"start":{"line":328,"column":295},"end":{"line":381,"column":127}},"208":{"start":{"line":328,"column":344},"end":{"line":330,"column":614}},"209":{"start":{"line":332,"column":32},"end":{"line":332,"column":53}},"210":{"start":{"line":334,"column":180},"end":{"line":334,"column":199}},"211":{"start":{"line":334,"column":199},"end":{"line":334,"column":218}},"212":{"start":{"line":334,"column":218},"end":{"line":342,"column":185}},"213":{"start":{"line":342,"column":192},"end":{"line":342,"column":222}},"214":{"start":{"line":342,"column":222},"end":{"line":346,"column":73}},"215":{"start":{"line":346,"column":47},"end":{"line":346,"column":66}},"216":{"start":{"line":346,"column":66},"end":{"line":346,"column":72}},"217":{"start":{"line":346,"column":73},"end":{"line":349,"column":100}},"218":{"start":{"line":353,"column":32},"end":{"line":353,"column":45}},"219":{"start":{"line":356,"column":32},"end":{"line":356,"column":52}},"220":{"start":{"line":356,"column":52},"end":{"line":365,"column":68}},"221":{"start":{"line":365,"column":76},"end":{"line":371,"column":96}},"222":{"start":{"line":371,"column":104},"end":{"line":371,"column":124}},"223":{"start":{"line":371,"column":124},"end":{"line":371,"column":161}},"224":{"start":{"line":377,"column":143},"end":{"line":381,"column":83}},"225":{"start":{"line":381,"column":102},"end":{"line":381,"column":126}},"226":{"start":{"line":381,"column":188},"end":{"line":381,"column":224}},"227":{"start":{"line":381,"column":225},"end":{"line":381,"column":243}},"228":{"start":{"line":381,"column":303},"end":{"line":425,"column":161}},"229":{"start":{"line":387,"column":35},"end":{"line":425,"column":158}},"230":{"start":{"line":387,"column":97},"end":{"line":425,"column":128}},"231":{"start":{"line":387,"column":108},"end":{"line":425,"column":127}},"232":{"start":{"line":387,"column":157},"end":{"line":387,"column":176}},"233":{"start":{"line":387,"column":176},"end":{"line":387,"column":195}},"234":{"start":{"line":387,"column":195},"end":{"line":394,"column":185}},"235":{"start":{"line":394,"column":192},"end":{"line":394,"column":222}},"236":{"start":{"line":394,"column":222},"end":{"line":398,"column":73}},"237":{"start":{"line":398,"column":47},"end":{"line":398,"column":66}},"238":{"start":{"line":398,"column":66},"end":{"line":398,"column":72}},"239":{"start":{"line":398,"column":73},"end":{"line":401,"column":100}},"240":{"start":{"line":401,"column":107},"end":{"line":401,"column":126}},"241":{"start":{"line":401,"column":126},"end":{"line":409,"column":68}},"242":{"start":{"line":409,"column":75},"end":{"line":415,"column":119}},"243":{"start":{"line":415,"column":127},"end":{"line":415,"column":147}},"244":{"start":{"line":415,"column":147},"end":{"line":415,"column":184}},"245":{"start":{"line":421,"column":143},"end":{"line":425,"column":83}},"246":{"start":{"line":425,"column":102},"end":{"line":425,"column":126}},"247":{"start":{"line":425,"column":188},"end":{"line":425,"column":224}},"248":{"start":{"line":425,"column":225},"end":{"line":425,"column":243}},"249":{"start":{"line":425,"column":312},"end":{"line":443,"column":142}},"250":{"start":{"line":430,"column":35},"end":{"line":443,"column":139}},"251":{"start":{"line":430,"column":97},"end":{"line":443,"column":120}},"252":{"start":{"line":430,"column":108},"end":{"line":443,"column":119}},"253":{"start":{"line":430,"column":157},"end":{"line":430,"column":176}},"254":{"start":{"line":430,"column":176},"end":{"line":432,"column":79}},"255":{"start":{"line":432,"column":86},"end":{"line":432,"column":116}},"256":{"start":{"line":432,"column":116},"end":{"line":434,"column":86}},"257":{"start":{"line":434,"column":60},"end":{"line":434,"column":79}},"258":{"start":{"line":434,"column":79},"end":{"line":434,"column":85}},"259":{"start":{"line":434,"column":86},"end":{"line":437,"column":93}},"260":{"start":{"line":437,"column":100},"end":{"line":443,"column":76}},"261":{"start":{"line":443,"column":94},"end":{"line":443,"column":118}},"262":{"start":{"line":443,"column":178},"end":{"line":443,"column":214}},"263":{"start":{"line":443,"column":215},"end":{"line":443,"column":242}},"264":{"start":{"line":443,"column":250},"end":{"line":443,"column":262}},"265":{"start":{"line":449,"column":19},"end":{"line":449,"column":29}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":1,"column":118},"end":{"line":1,"column":119}},"loc":{"start":{"line":1,"column":130},"end":{"line":1,"column":645}},"line":1},"1":{"name":"defineProperties","decl":{"start":{"line":1,"column":140},"end":{"line":1,"column":156}},"loc":{"start":{"line":1,"column":172},"end":{"line":1,"column":439}},"line":1},"2":{"name":"(anonymous_2)","decl":{"start":{"line":1,"column":446},"end":{"line":1,"column":447}},"loc":{"start":{"line":1,"column":494},"end":{"line":1,"column":643}},"line":1},"3":{"name":"_defineProperty","decl":{"start":{"line":5,"column":191},"end":{"line":5,"column":206}},"loc":{"start":{"line":5,"column":224},"end":{"line":5,"column":384}},"line":5},"4":{"name":"_asyncToGenerator","decl":{"start":{"line":5,"column":393},"end":{"line":5,"column":410}},"loc":{"start":{"line":5,"column":415},"end":{"line":5,"column":817}},"line":5},"5":{"name":"(anonymous_5)","decl":{"start":{"line":5,"column":423},"end":{"line":5,"column":424}},"loc":{"start":{"line":5,"column":435},"end":{"line":5,"column":815}},"line":5},"6":{"name":"(anonymous_6)","decl":{"start":{"line":5,"column":491},"end":{"line":5,"column":492}},"loc":{"start":{"line":5,"column":518},"end":{"line":5,"column":812}},"line":5},"7":{"name":"step","decl":{"start":{"line":5,"column":528},"end":{"line":5,"column":532}},"loc":{"start":{"line":5,"column":543},"end":{"line":5,"column":791}},"line":5},"8":{"name":"(anonymous_8)","decl":{"start":{"line":5,"column":710},"end":{"line":5,"column":711}},"loc":{"start":{"line":5,"column":727},"end":{"line":5,"column":749}},"line":5},"9":{"name":"(anonymous_9)","decl":{"start":{"line":5,"column":751},"end":{"line":5,"column":752}},"loc":{"start":{"line":5,"column":766},"end":{"line":5,"column":787}},"line":5},"10":{"name":"_classCallCheck","decl":{"start":{"line":5,"column":826},"end":{"line":5,"column":841}},"loc":{"start":{"line":5,"column":865},"end":{"line":5,"column":966}},"line":5},"11":{"name":"(anonymous_11)","decl":{"start":{"line":7,"column":7},"end":{"line":7,"column":8}},"loc":{"start":{"line":7,"column":19},"end":{"line":443,"column":263}},"line":7},"12":{"name":"Book","decl":{"start":{"line":9,"column":37},"end":{"line":9,"column":41}},"loc":{"start":{"line":9,"column":44},"end":{"line":16,"column":5}},"line":9},"13":{"name":"(anonymous_13)","decl":{"start":{"line":16,"column":50},"end":{"line":16,"column":51}},"loc":{"start":{"line":16,"column":62},"end":{"line":74,"column":233}},"line":16},"14":{"name":"_callee","decl":{"start":{"line":16,"column":139},"end":{"line":16,"column":146}},"loc":{"start":{"line":18,"column":17},"end":{"line":74,"column":156}},"line":18},"15":{"name":"_callee$","decl":{"start":{"line":18,"column":249},"end":{"line":18,"column":257}},"loc":{"start":{"line":18,"column":268},"end":{"line":74,"column":127}},"line":18},"16":{"name":"addBook","decl":{"start":{"line":74,"column":168},"end":{"line":74,"column":175}},"loc":{"start":{"line":74,"column":180},"end":{"line":74,"column":217}},"line":74},"17":{"name":"(anonymous_17)","decl":{"start":{"line":74,"column":268},"end":{"line":74,"column":269}},"loc":{"start":{"line":74,"column":280},"end":{"line":103,"column":245}},"line":74},"18":{"name":"_callee2","decl":{"start":{"line":74,"column":358},"end":{"line":74,"column":366}},"loc":{"start":{"line":80,"column":17},"end":{"line":103,"column":158}},"line":80},"19":{"name":"_callee2$","decl":{"start":{"line":80,"column":71},"end":{"line":80,"column":80}},"loc":{"start":{"line":80,"column":92},"end":{"line":103,"column":129}},"line":80},"20":{"name":"getAllBooks","decl":{"start":{"line":103,"column":170},"end":{"line":103,"column":181}},"loc":{"start":{"line":103,"column":187},"end":{"line":103,"column":225}},"line":103},"21":{"name":"(anonymous_21)","decl":{"start":{"line":103,"column":276},"end":{"line":103,"column":277}},"loc":{"start":{"line":103,"column":288},"end":{"line":140,"column":238}},"line":103},"22":{"name":"_callee3","decl":{"start":{"line":103,"column":366},"end":{"line":103,"column":374}},"loc":{"start":{"line":109,"column":17},"end":{"line":140,"column":159}},"line":109},"23":{"name":"_callee3$","decl":{"start":{"line":109,"column":67},"end":{"line":109,"column":76}},"loc":{"start":{"line":109,"column":88},"end":{"line":140,"column":129}},"line":109},"24":{"name":"getBook","decl":{"start":{"line":140,"column":171},"end":{"line":140,"column":178}},"loc":{"start":{"line":140,"column":184},"end":{"line":140,"column":222}},"line":140},"25":{"name":"(anonymous_25)","decl":{"start":{"line":140,"column":283},"end":{"line":140,"column":284}},"loc":{"start":{"line":140,"column":295},"end":{"line":168,"column":224}},"line":140},"26":{"name":"_callee4","decl":{"start":{"line":140,"column":373},"end":{"line":140,"column":381}},"loc":{"start":{"line":146,"column":16},"end":{"line":168,"column":117}},"line":146},"27":{"name":"_callee4$","decl":{"start":{"line":146,"column":94},"end":{"line":146,"column":103}},"loc":{"start":{"line":146,"column":115},"end":{"line":168,"column":87}},"line":146},"28":{"name":"checkBookAvailability","decl":{"start":{"line":168,"column":129},"end":{"line":168,"column":150}},"loc":{"start":{"line":168,"column":156},"end":{"line":168,"column":194}},"line":168},"29":{"name":"(anonymous_29)","decl":{"start":{"line":168,"column":258},"end":{"line":168,"column":259}},"loc":{"start":{"line":168,"column":270},"end":{"line":254,"column":275}},"line":168},"30":{"name":"_callee5","decl":{"start":{"line":168,"column":348},"end":{"line":168,"column":356}},"loc":{"start":{"line":173,"column":17},"end":{"line":254,"column":190}},"line":173},"31":{"name":"_callee5$","decl":{"start":{"line":173,"column":119},"end":{"line":173,"column":128}},"loc":{"start":{"line":173,"column":140},"end":{"line":254,"column":159}},"line":173},"32":{"name":"borrowBook","decl":{"start":{"line":254,"column":202},"end":{"line":254,"column":212}},"loc":{"start":{"line":254,"column":218},"end":{"line":254,"column":256}},"line":254},"33":{"name":"(anonymous_33)","decl":{"start":{"line":254,"column":309},"end":{"line":254,"column":310}},"loc":{"start":{"line":254,"column":321},"end":{"line":322,"column":244}},"line":254},"34":{"name":"_callee6","decl":{"start":{"line":254,"column":399},"end":{"line":254,"column":407}},"loc":{"start":{"line":259,"column":17},"end":{"line":322,"column":159}},"line":259},"35":{"name":"_callee6$","decl":{"start":{"line":259,"column":101},"end":{"line":259,"column":110}},"loc":{"start":{"line":259,"column":122},"end":{"line":322,"column":129}},"line":259},"36":{"name":"returnBook","decl":{"start":{"line":322,"column":171},"end":{"line":322,"column":181}},"loc":{"start":{"line":322,"column":187},"end":{"line":322,"column":225}},"line":322},"37":{"name":"(anonymous_37)","decl":{"start":{"line":322,"column":278},"end":{"line":322,"column":279}},"loc":{"start":{"line":322,"column":290},"end":{"line":381,"column":244}},"line":322},"38":{"name":"_callee7","decl":{"start":{"line":322,"column":368},"end":{"line":322,"column":376}},"loc":{"start":{"line":328,"column":17},"end":{"line":381,"column":159}},"line":328},"39":{"name":"_callee7$","decl":{"start":{"line":328,"column":262},"end":{"line":328,"column":271}},"loc":{"start":{"line":328,"column":283},"end":{"line":381,"column":129}},"line":328},"40":{"name":"updateBook","decl":{"start":{"line":381,"column":171},"end":{"line":381,"column":181}},"loc":{"start":{"line":381,"column":187},"end":{"line":381,"column":225}},"line":381},"41":{"name":"(anonymous_41)","decl":{"start":{"line":381,"column":278},"end":{"line":381,"column":279}},"loc":{"start":{"line":381,"column":290},"end":{"line":425,"column":244}},"line":381},"42":{"name":"_callee8","decl":{"start":{"line":381,"column":368},"end":{"line":381,"column":376}},"loc":{"start":{"line":387,"column":17},"end":{"line":425,"column":159}},"line":387},"43":{"name":"_callee8$","decl":{"start":{"line":387,"column":75},"end":{"line":387,"column":84}},"loc":{"start":{"line":387,"column":96},"end":{"line":425,"column":129}},"line":387},"44":{"name":"deleteBook","decl":{"start":{"line":425,"column":171},"end":{"line":425,"column":181}},"loc":{"start":{"line":425,"column":187},"end":{"line":425,"column":225}},"line":425},"45":{"name":"(anonymous_45)","decl":{"start":{"line":425,"column":287},"end":{"line":425,"column":288}},"loc":{"start":{"line":425,"column":299},"end":{"line":443,"column":243}},"line":425},"46":{"name":"_callee9","decl":{"start":{"line":425,"column":377},"end":{"line":425,"column":385}},"loc":{"start":{"line":430,"column":17},"end":{"line":443,"column":140}},"line":430},"47":{"name":"_callee9$","decl":{"start":{"line":430,"column":75},"end":{"line":430,"column":84}},"loc":{"start":{"line":430,"column":96},"end":{"line":443,"column":121}},"line":430},"48":{"name":"getBookAvailability","decl":{"start":{"line":443,"column":152},"end":{"line":443,"column":171}},"loc":{"start":{"line":443,"column":177},"end":{"line":443,"column":215}},"line":443}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":263},"end":{"line":1,"column":293}},"type":"binary-expr","locations":[{"start":{"line":1,"column":263},"end":{"line":1,"column":284}},{"start":{"line":1,"column":288},"end":{"line":1,"column":293}}],"line":1},"1":{"loc":{"start":{"line":1,"column":325},"end":{"line":1,"column":379}},"type":"if","locations":[{"start":{"line":1,"column":325},"end":{"line":1,"column":379}},{"start":{"line":1,"column":325},"end":{"line":1,"column":379}}],"line":1},"2":{"loc":{"start":{"line":1,"column":495},"end":{"line":1,"column":563}},"type":"if","locations":[{"start":{"line":1,"column":495},"end":{"line":1,"column":563}},{"start":{"line":1,"column":495},"end":{"line":1,"column":563}}],"line":1},"3":{"loc":{"start":{"line":1,"column":563},"end":{"line":1,"column":623}},"type":"if","locations":[{"start":{"line":1,"column":563},"end":{"line":1,"column":623}},{"start":{"line":1,"column":563},"end":{"line":1,"column":623}}],"line":1},"4":{"loc":{"start":{"line":5,"column":225},"end":{"line":5,"column":372}},"type":"if","locations":[{"start":{"line":5,"column":225},"end":{"line":5,"column":372}},{"start":{"line":5,"column":225},"end":{"line":5,"column":372}}],"line":5},"5":{"loc":{"start":{"line":5,"column":636},"end":{"line":5,"column":790}},"type":"if","locations":[{"start":{"line":5,"column":636},"end":{"line":5,"column":790}},{"start":{"line":5,"column":636},"end":{"line":5,"column":790}}],"line":5},"6":{"loc":{"start":{"line":5,"column":866},"end":{"line":5,"column":965}},"type":"if","locations":[{"start":{"line":5,"column":866},"end":{"line":5,"column":965}},{"start":{"line":5,"column":866},"end":{"line":5,"column":965}}],"line":5},"7":{"loc":{"start":{"line":18,"column":280},"end":{"line":74,"column":125}},"type":"switch","locations":[{"start":{"line":18,"column":320},"end":{"line":33,"column":67}},{"start":{"line":33,"column":67},"end":{"line":44,"column":66}},{"start":{"line":44,"column":66},"end":{"line":44,"column":127}},{"start":{"line":44,"column":127},"end":{"line":54,"column":73}},{"start":{"line":54,"column":73},"end":{"line":59,"column":68}},{"start":{"line":59,"column":68},"end":{"line":64,"column":90}},{"start":{"line":64,"column":90},"end":{"line":74,"column":82}},{"start":{"line":74,"column":82},"end":{"line":74,"column":90}},{"start":{"line":74,"column":90},"end":{"line":74,"column":124}}],"line":18},"8":{"loc":{"start":{"line":20,"column":82},"end":{"line":20,"column":132}},"type":"cond-expr","locations":[{"start":{"line":20,"column":113},"end":{"line":20,"column":115}},{"start":{"line":20,"column":118},"end":{"line":20,"column":132}}],"line":20},"9":{"loc":{"start":{"line":20,"column":180},"end":{"line":20,"column":234}},"type":"cond-expr","locations":[{"start":{"line":20,"column":213},"end":{"line":20,"column":215}},{"start":{"line":20,"column":218},"end":{"line":20,"column":234}}],"line":20},"10":{"loc":{"start":{"line":20,"column":285},"end":{"line":20,"column":341}},"type":"cond-expr","locations":[{"start":{"line":20,"column":319},"end":{"line":20,"column":321}},{"start":{"line":20,"column":324},"end":{"line":20,"column":341}}],"line":20},"11":{"loc":{"start":{"line":20,"column":408},"end":{"line":20,"column":472}},"type":"cond-expr","locations":[{"start":{"line":20,"column":446},"end":{"line":20,"column":448}},{"start":{"line":20,"column":451},"end":{"line":20,"column":472}}],"line":20},"12":{"loc":{"start":{"line":20,"column":535},"end":{"line":20,"column":599}},"type":"cond-expr","locations":[{"start":{"line":20,"column":573},"end":{"line":20,"column":575}},{"start":{"line":20,"column":578},"end":{"line":20,"column":599}}],"line":20},"13":{"loc":{"start":{"line":33,"column":103},"end":{"line":37,"column":87}},"type":"if","locations":[{"start":{"line":33,"column":103},"end":{"line":37,"column":87}},{"start":{"line":33,"column":103},"end":{"line":37,"column":87}}],"line":33},"14":{"loc":{"start":{"line":80,"column":104},"end":{"line":103,"column":127}},"type":"switch","locations":[{"start":{"line":80,"column":146},"end":{"line":87,"column":185}},{"start":{"line":87,"column":185},"end":{"line":93,"column":54}},{"start":{"line":93,"column":54},"end":{"line":103,"column":83}},{"start":{"line":103,"column":83},"end":{"line":103,"column":91}},{"start":{"line":103,"column":91},"end":{"line":103,"column":126}}],"line":80},"15":{"loc":{"start":{"line":109,"column":100},"end":{"line":140,"column":127}},"type":"switch","locations":[{"start":{"line":109,"column":142},"end":{"line":117,"column":185}},{"start":{"line":117,"column":185},"end":{"line":124,"column":90}},{"start":{"line":124,"column":90},"end":{"line":130,"column":50}},{"start":{"line":130,"column":50},"end":{"line":140,"column":83}},{"start":{"line":140,"column":83},"end":{"line":140,"column":91}},{"start":{"line":140,"column":91},"end":{"line":140,"column":126}}],"line":109},"16":{"loc":{"start":{"line":117,"column":214},"end":{"line":121,"column":65}},"type":"if","locations":[{"start":{"line":117,"column":214},"end":{"line":121,"column":65}},{"start":{"line":117,"column":214},"end":{"line":121,"column":65}}],"line":117},"17":{"loc":{"start":{"line":146,"column":127},"end":{"line":168,"column":85}},"type":"switch","locations":[{"start":{"line":146,"column":169},"end":{"line":152,"column":185}},{"start":{"line":152,"column":185},"end":{"line":157,"column":39}},{"start":{"line":157,"column":39},"end":{"line":162,"column":52}},{"start":{"line":162,"column":52},"end":{"line":168,"column":41}},{"start":{"line":168,"column":41},"end":{"line":168,"column":49}},{"start":{"line":168,"column":49},"end":{"line":168,"column":84}}],"line":146},"18":{"loc":{"start":{"line":152,"column":222},"end":{"line":156,"column":73}},"type":"if","locations":[{"start":{"line":152,"column":222},"end":{"line":156,"column":73}},{"start":{"line":152,"column":222},"end":{"line":156,"column":73}}],"line":152},"19":{"loc":{"start":{"line":160,"column":53},"end":{"line":160,"column":103}},"type":"cond-expr","locations":[{"start":{"line":160,"column":91},"end":{"line":160,"column":95}},{"start":{"line":160,"column":98},"end":{"line":160,"column":103}}],"line":160},"20":{"loc":{"start":{"line":173,"column":152},"end":{"line":254,"column":157}},"type":"switch","locations":[{"start":{"line":173,"column":194},"end":{"line":181,"column":193}},{"start":{"line":181,"column":193},"end":{"line":188,"column":149}},{"start":{"line":188,"column":149},"end":{"line":195,"column":154}},{"start":{"line":195,"column":154},"end":{"line":199,"column":72}},{"start":{"line":199,"column":72},"end":{"line":208,"column":185}},{"start":{"line":208,"column":185},"end":{"line":216,"column":61}},{"start":{"line":216,"column":61},"end":{"line":224,"column":63}},{"start":{"line":224,"column":63},"end":{"line":230,"column":102}},{"start":{"line":230,"column":102},"end":{"line":240,"column":83}},{"start":{"line":240,"column":83},"end":{"line":240,"column":117}},{"start":{"line":240,"column":117},"end":{"line":248,"column":91}},{"start":{"line":248,"column":91},"end":{"line":254,"column":113}},{"start":{"line":254,"column":113},"end":{"line":254,"column":121}},{"start":{"line":254,"column":121},"end":{"line":254,"column":156}}],"line":173},"21":{"loc":{"start":{"line":181,"column":232},"end":{"line":185,"column":75}},"type":"if","locations":[{"start":{"line":181,"column":232},"end":{"line":185,"column":75}},{"start":{"line":181,"column":232},"end":{"line":185,"column":75}}],"line":181},"22":{"loc":{"start":{"line":188,"column":156},"end":{"line":192,"column":90}},"type":"if","locations":[{"start":{"line":188,"column":156},"end":{"line":192,"column":90}},{"start":{"line":188,"column":156},"end":{"line":192,"column":90}}],"line":188},"23":{"loc":{"start":{"line":199,"column":114},"end":{"line":201,"column":88}},"type":"if","locations":[{"start":{"line":199,"column":114},"end":{"line":201,"column":88}},{"start":{"line":199,"column":114},"end":{"line":201,"column":88}}],"line":199},"24":{"loc":{"start":{"line":240,"column":125},"end":{"line":245,"column":89}},"type":"if","locations":[{"start":{"line":240,"column":125},"end":{"line":245,"column":89}},{"start":{"line":240,"column":125},"end":{"line":245,"column":89}}],"line":240},"25":{"loc":{"start":{"line":259,"column":134},"end":{"line":322,"column":127}},"type":"switch","locations":[{"start":{"line":259,"column":176},"end":{"line":269,"column":185}},{"start":{"line":269,"column":185},"end":{"line":276,"column":192}},{"start":{"line":276,"column":192},"end":{"line":283,"column":146}},{"start":{"line":283,"column":146},"end":{"line":290,"column":94}},{"start":{"line":290,"column":94},"end":{"line":298,"column":61}},{"start":{"line":298,"column":61},"end":{"line":306,"column":63}},{"start":{"line":306,"column":63},"end":{"line":312,"column":92}},{"start":{"line":312,"column":92},"end":{"line":322,"column":83}},{"start":{"line":322,"column":83},"end":{"line":322,"column":91}},{"start":{"line":322,"column":91},"end":{"line":322,"column":126}}],"line":259},"26":{"loc":{"start":{"line":276,"column":231},"end":{"line":280,"column":76}},"type":"if","locations":[{"start":{"line":276,"column":231},"end":{"line":280,"column":76}},{"start":{"line":276,"column":231},"end":{"line":280,"column":76}}],"line":276},"27":{"loc":{"start":{"line":283,"column":154},"end":{"line":287,"column":66}},"type":"if","locations":[{"start":{"line":283,"column":154},"end":{"line":287,"column":66}},{"start":{"line":283,"column":154},"end":{"line":287,"column":66}}],"line":283},"28":{"loc":{"start":{"line":328,"column":295},"end":{"line":381,"column":127}},"type":"switch","locations":[{"start":{"line":328,"column":337},"end":{"line":342,"column":185}},{"start":{"line":342,"column":185},"end":{"line":349,"column":100}},{"start":{"line":349,"column":100},"end":{"line":365,"column":68}},{"start":{"line":365,"column":68},"end":{"line":371,"column":96}},{"start":{"line":371,"column":96},"end":{"line":381,"column":83}},{"start":{"line":381,"column":83},"end":{"line":381,"column":91}},{"start":{"line":381,"column":91},"end":{"line":381,"column":126}}],"line":328},"29":{"loc":{"start":{"line":330,"column":84},"end":{"line":330,"column":136}},"type":"cond-expr","locations":[{"start":{"line":330,"column":116},"end":{"line":330,"column":118}},{"start":{"line":330,"column":121},"end":{"line":330,"column":136}}],"line":330},"30":{"loc":{"start":{"line":330,"column":186},"end":{"line":330,"column":242}},"type":"cond-expr","locations":[{"start":{"line":330,"column":220},"end":{"line":330,"column":222}},{"start":{"line":330,"column":225},"end":{"line":330,"column":242}}],"line":330},"31":{"loc":{"start":{"line":330,"column":310},"end":{"line":330,"column":374}},"type":"cond-expr","locations":[{"start":{"line":330,"column":348},"end":{"line":330,"column":350}},{"start":{"line":330,"column":353},"end":{"line":330,"column":374}}],"line":330},"32":{"loc":{"start":{"line":330,"column":427},"end":{"line":330,"column":485}},"type":"cond-expr","locations":[{"start":{"line":330,"column":462},"end":{"line":330,"column":464}},{"start":{"line":330,"column":467},"end":{"line":330,"column":485}}],"line":330},"33":{"loc":{"start":{"line":330,"column":549},"end":{"line":330,"column":613}},"type":"cond-expr","locations":[{"start":{"line":330,"column":587},"end":{"line":330,"column":589}},{"start":{"line":330,"column":592},"end":{"line":330,"column":613}}],"line":330},"34":{"loc":{"start":{"line":342,"column":222},"end":{"line":346,"column":73}},"type":"if","locations":[{"start":{"line":342,"column":222},"end":{"line":346,"column":73}},{"start":{"line":342,"column":222},"end":{"line":346,"column":73}}],"line":342},"35":{"loc":{"start":{"line":387,"column":108},"end":{"line":425,"column":127}},"type":"switch","locations":[{"start":{"line":387,"column":150},"end":{"line":394,"column":185}},{"start":{"line":394,"column":185},"end":{"line":401,"column":100}},{"start":{"line":401,"column":100},"end":{"line":409,"column":68}},{"start":{"line":409,"column":68},"end":{"line":415,"column":119}},{"start":{"line":415,"column":119},"end":{"line":425,"column":83}},{"start":{"line":425,"column":83},"end":{"line":425,"column":91}},{"start":{"line":425,"column":91},"end":{"line":425,"column":126}}],"line":387},"36":{"loc":{"start":{"line":394,"column":222},"end":{"line":398,"column":73}},"type":"if","locations":[{"start":{"line":394,"column":222},"end":{"line":398,"column":73}},{"start":{"line":394,"column":222},"end":{"line":398,"column":73}}],"line":394},"37":{"loc":{"start":{"line":430,"column":108},"end":{"line":443,"column":119}},"type":"switch","locations":[{"start":{"line":430,"column":150},"end":{"line":432,"column":79}},{"start":{"line":432,"column":79},"end":{"line":437,"column":93}},{"start":{"line":437,"column":93},"end":{"line":443,"column":76}},{"start":{"line":443,"column":76},"end":{"line":443,"column":83}},{"start":{"line":443,"column":83},"end":{"line":443,"column":118}}],"line":430},"38":{"loc":{"start":{"line":432,"column":116},"end":{"line":434,"column":86}},"type":"if","locations":[{"start":{"line":432,"column":116},"end":{"line":434,"column":86}},{"start":{"line":432,"column":116},"end":{"line":434,"column":86}}],"line":432}},"s":{"0":2,"1":2,"2":2,"3":18,"4":18,"5":18,"6":18,"7":18,"8":18,"9":2,"10":2,"11":2,"12":2,"13":0,"14":2,"15":8,"16":0,"17":8,"18":8,"19":18,"20":19,"21":19,"22":31,"23":31,"24":22,"25":9,"26":9,"27":22,"28":10,"29":12,"30":12,"31":0,"32":19,"33":2,"34":0,"35":2,"36":2,"37":2,"38":2,"39":2,"40":2,"41":12,"42":30,"43":33,"44":12,"45":12,"46":12,"47":12,"48":3,"49":3,"50":3,"51":3,"52":3,"53":2,"54":2,"55":1,"56":1,"57":1,"58":1,"59":1,"60":2,"61":2,"62":1,"63":1,"64":2,"65":1,"66":1,"67":1,"68":12,"69":12,"70":2,"71":2,"72":1,"73":3,"74":3,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":0,"82":0,"83":0,"84":1,"85":1,"86":2,"87":2,"88":2,"89":6,"90":7,"91":2,"92":2,"93":2,"94":2,"95":2,"96":2,"97":1,"98":1,"99":1,"100":1,"101":0,"102":0,"103":0,"104":2,"105":2,"106":2,"107":2,"108":2,"109":6,"110":7,"111":2,"112":2,"113":2,"114":2,"115":2,"116":1,"117":1,"118":1,"119":1,"120":1,"121":0,"122":0,"123":0,"124":2,"125":2,"126":2,"127":2,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":2,"172":2,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":2,"204":2,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":0,"218":0,"219":0,"220":0,"221":0,"222":0,"223":0,"224":0,"225":0,"226":0,"227":2,"228":2,"229":0,"230":0,"231":0,"232":0,"233":0,"234":0,"235":0,"236":0,"237":0,"238":0,"239":0,"240":0,"241":0,"242":0,"243":0,"244":0,"245":0,"246":0,"247":0,"248":2,"249":2,"250":2,"251":6,"252":8,"253":2,"254":2,"255":2,"256":2,"257":2,"258":2,"259":0,"260":2,"261":2,"262":2,"263":2,"264":2,"265":2},"f":{"0":2,"1":2,"2":2,"3":8,"4":18,"5":19,"6":19,"7":31,"8":12,"9":0,"10":2,"11":2,"12":2,"13":2,"14":12,"15":30,"16":12,"17":2,"18":1,"19":3,"20":1,"21":2,"22":2,"23":6,"24":2,"25":2,"26":2,"27":6,"28":2,"29":2,"30":0,"31":0,"32":0,"33":2,"34":0,"35":0,"36":0,"37":2,"38":0,"39":0,"40":0,"41":2,"42":0,"43":0,"44":0,"45":2,"46":2,"47":6,"48":2},"b":{"0":[18,18],"1":[18,0],"2":[2,0],"3":[0,2],"4":[0,8],"5":[10,12],"6":[0,2],"7":[12,3,1,2,1,2,1,0,12],"8":[1,11],"9":[1,11],"10":[0,12],"11":[0,12],"12":[1,11],"13":[2,1],"14":[1,1,0,0,1],"15":[2,2,1,0,0,2],"16":[1,1],"17":[2,2,1,0,0,2],"18":[1,1],"19":[1,0],"20":[0,0,0,0,0,0,0,0,0,0,0,0,0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0,0,0,0,0,0,0,0,0],"26":[0,0],"27":[0,0],"28":[0,0,0,0,0,0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0,0,0,0,0,0],"36":[0,0],"37":[2,2,2,0,2],"38":[2,0]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"70c2d28af418fe9264277a6e42652cedc287ced6","code":["import Sequelize from 'sequelize';","import { db } from '../db/db.js';","import logger from '../logger.js';","import HttpStatus from 'http-status-codes';","import { validateBook } from '../utils/util.js';","","class Book {","","    constructor () {","        // Need 'this' to be defined to access checkBookAvailability within borrowBook.","        // All methods were static previously, but 'this' was undefined inside those methods when the methods were passed as arguments to the handler.","","        this.borrowBook = this.borrowBook.bind(this);","        this.checkBookAvailability = this.checkBookAvailability.bind(this);","        this.getBookAvailability = this.getBookAvailability.bind(this);","    }","","    async addBook (req) {","        console.log(JSON.stringify(req.body,0,2));","        const { name = '', author = '', edition = '', publishedDate = '', shelfNumber = '' } = req.body;","        let createdBook;","        let existingBook;","        ","        validateBook(name, author, edition, publishedDate, shelfNumber);","","        try {","","            existingBook = await db.book.findAll({","                where: {","                    deleted: { [Sequelize.Op.ne]: true },","                    name,","                    author,","                    edition","                }","            });","","            if (existingBook.length === 0) {","                createdBook = await db.book.create({","                    name,","                    author,","                    edition,","                    shelfNumber,","                    publishedDate,","                    noOfBooksAvailable: 1","                });","","            }","            else {","","                await db.book.update({","                    noOfBooksAvailable: existingBook[0].noOfBooksAvailable + 1","                }, {","                    where: {","                        id: existingBook[0].id","                    }","                });","","                createdBook = existingBook[0];","                createdBook.noOfBooksAvailable += 1;","            }","","            return {","                status: HttpStatus.CREATED,","                result: 'This book has been added to our library.'","            };","","        }","        catch (error) {","","            logger.error(error);","            return {","                status: HttpStatus.INTERNAL_SERVER_ERROR,","                result: 'Unable to create books at the moment.',","                error","            }","","        }","    }","","    async getAllBooks (req) {","","        let allBooks;","        try {","","            allBooks = await db.book.findAll({","                where: {","                    deleted: { [Sequelize.Op.ne]: true }","                }","            });","","            return {","                status: HttpStatus.OK,","                json: allBooks","            }","","        }","        catch (error) {","","            logger.error(error);","            return {","                status: HttpStatus.INTERNAL_SERVER_ERROR,","                result: 'Unable to fetch books at the moment.',","                error","            }","","        }","    }","","    async getBook (req) {","","        let book;","        try {","","            book = await db.book.findOne({","                where: {","                    id: req.params.id,","                    deleted: { [Sequelize.Op.ne]: true }","                }","            })","","            if(!book) {","                return {","                    status: HttpStatus.OK,","                    result: 'The requested book is not available now.'","                }","            }","","            return {","                status: HttpStatus.OK,","                json: book","            }","            ","        }","        catch (error) {","","            logger.error(error);","            return {","                status: HttpStatus.INTERNAL_SERVER_ERROR,","                result: 'Unable to get this book at the moment.',","                error","            }","","        }","    }","","    async checkBookAvailability (id) {","        try {","","            const existingBook = await db.book.findOne({","                where: {","                    id: id,","                    deleted: { [Sequelize.Op.ne]: true }","                }","            });","           ","            if (!existingBook) {","               return false;","            }"," ","            const availabilityStatus = existingBook.noOfBooksAvailable > 0 ? true : false;","","            return availabilityStatus;","","        }","        catch (error) {","","            logger.error(error);","            return 'ERROR';","","        }","    }","","    async borrowBook (req) {","","        const bookId = req.body.bookId;","        const memberId = req.body.memberId;","       ","        const existingMember = await db.member.findOne({","            where: {","                id: memberId,","                unRegisteredYN: { [Sequelize.Op.eq]: false }","            }","        });","","        if (!existingMember) {","            return {","                status: HttpStatus.FORBIDDEN,","                result: `You must be a registered member to borrow this book. Please register first.`","            }","        }","","        if (existingMember.amountDue > 0) {","            return {","                status: HttpStatus.FORBIDDEN,","                result: `Please pay your due amount ${existingMember.amountDue} to borrow this book.`","            }","        }","       ","        const bookAvailability = await this.checkBookAvailability(bookId);","        ","        if (bookAvailability === true) {","","            try {","","                const book = await db.book.findOne({","                    where: {","                        id: bookId,","                        deleted: { [Sequelize.Op.ne]: true }","                    }","                });","","                await db.book.update({","                    noOfBooksAvailable: book.noOfBooksAvailable - 1","                }, {","                    where: {","                        id: bookId","                    }","                });","","                await db.member.update({","                    noOfBooksTaken: existingMember.noOfBooksTaken + 1","                }, {","                    where: {","                        id: memberId","                    }","                });","","                return {","                    status: HttpStatus.OK,","                    result: 'One copy of the requested book has been lent to you.'","                }","","            }","            catch (error) {","","                logger.error(error);","                return {","                    status: HttpStatus.INTERNAL_SERVER_ERROR,","                    result: 'Unable to lend this book at the moment due to technical issues.',","                    error","                }","","            }","        }","        else if (bookAvailability === false) {","            return {","                status: HttpStatus.OK,","                result: 'This book is not available at the moment.'","            }","        }","        else {","            return {","                status: HttpStatus.INTERNAL_SERVER_ERROR,","                result: 'Unable to lend this book at the moment due to technical issues.'","            }","        }","    }","","    async returnBook (req) {","","        const bookId = req.body.bookId;","        const memberId = req.body.memberId;","","        try {","","            const book = await db.book.findOne({","                where: {","                    id: bookId,","                    deleted: { [Sequelize.Op.ne]: true }","                }","            });","","            const existingMember = await db.member.findOne({","                where: {","                    id: memberId,","                    unRegisteredYN: { [Sequelize.Op.ne]: true }","                }","            });","            ","            if (!existingMember) {","                return {","                    status: HttpStatus.FORBIDDEN,","                    result: `You must be a registered member to return a book. Please register first.`","                }","            }","","            if (!book) {","                return {","                    status: HttpStatus.BAD_REQUEST,","                    result: 'We did not lend you this book. Please check.'","                }","            }","","            await db.book.update({","                noOfBooksAvailable: book.noOfBooksAvailable + 1","            }, {","                where: {","                    id: bookId","                }","            });","","            await db.member.update({","                noOfBooksTaken: existingMember.noOfBooksTaken - 1","            }, {","                where: {","                    id: memberId","                }","            });","","            return {","                status: HttpStatus.OK,","                result: 'The return of your book has been accepted.'","            }","","        }","        catch (error) {","","            logger.error(error);","            return {","                status: HttpStatus.INTERNAL_SERVER_ERROR,","                result: 'Unable to accept this book at the moment due to technical issues.',","                error","            }","","        }","    }","","    async updateBook (req) {","","        const { name = '', author = '', publishedDate = '', edition = '', shelfNumber = '' } = req.body;","        // Instead of updating all the values, find the diff and update that alone.","        let updatedBook;","","        validateBook(name, author, edition, publishedDate, shelfNumber);","","        try {","","            // Move the below query into a separate sub, as it is common for many subs.","            const existingBook = await db.book.findOne({","                where: {","                    id: req.params.id,","                    deleted: { [Sequelize.Op.ne]: true }","                }","            });","","            if (!existingBook) {","                return {","                    status: HttpStatus.OK,","                    result: 'The requested book is not available to be updated.'","                }","            }","","           let updates = {};","","           // BUG: This overwrites all fields as '' if you don't pass in anything.","","            await db.book.update({","                name,","                author,","                edition,","                shelfNumber,","                publishedDate","            }, {","                where: {","                    id: req.params.id","                }","            });","","            return {","                status: HttpStatus.OK,","                result: 'The properties of this book have been updated.'","            }","","        }","        catch (error) {","","            logger.error(error);","            return {","                status: HttpStatus.INTERNAL_SERVER_ERROR,","                result: 'Unable to update this book at the moment.',","                error","            }","","        }","    }","","    async deleteBook (req) {","","        try {","","            const existingBook = await db.book.findOne({","                where: {","                    id: req.params.id,","                    deleted: { [Sequelize.Op.ne]: true }","                }","            });","","            if (!existingBook) {","                return {","                    status: HttpStatus.OK,","                    result: 'The requested book is not available to be deleted.'","                }","            }","","            await db.book.update({","              deleted: true","            }, {","                where: {","                    id: req.params.id","                }","            });","","            return {","                status: HttpStatus.OK,","                result: 'The requested book has been marked as deleted in the library records.'","            }","","        }","        catch (error) {","","            logger.error(error);","            return {","                status: HttpStatus.INTERNAL_SERVER_ERROR,","                result: 'Unable to delete this book at the moment.',","                error","            }","        }","    }","","    async getBookAvailability (req) {","       ","        const availability = await this.checkBookAvailability(req.params.id);","","        if (availability === 'ERROR') {","            return {","                status: HttpStatus.INTERNAL_SERVER_ERROR,","                result: 'Unable to check availability at the moment.'","            }","        }","        else {","            return {","                status: HttpStatus.OK,","                json: { availability }","            }","        }","    }","};","","const bookInstance = new Book();","","export default bookInstance;"]},"/Users/nvaithyanathan/Desktop/Node/library-application/library-app/utils/util.js":{"path":"/Users/nvaithyanathan/Desktop/Node/library-application/library-app/utils/util.js","statementMap":{"0":{"start":{"line":1,"column":37},"end":{"line":1,"column":99}},"1":{"start":{"line":1,"column":99},"end":{"line":1,"column":157}},"2":{"start":{"line":1,"column":335},"end":{"line":1,"column":389}},"3":{"start":{"line":3,"column":45},"end":{"line":21,"column":1}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"5":{"start":{"line":6,"column":8},"end":{"line":6,"column":112}},"6":{"start":{"line":9,"column":4},"end":{"line":11,"column":5}},"7":{"start":{"line":10,"column":8},"end":{"line":10,"column":133}},"8":{"start":{"line":13,"column":4},"end":{"line":15,"column":5}},"9":{"start":{"line":14,"column":8},"end":{"line":14,"column":62}},"10":{"start":{"line":17,"column":4},"end":{"line":19,"column":5}},"11":{"start":{"line":18,"column":8},"end":{"line":18,"column":68}},"12":{"start":{"line":23,"column":43},"end":{"line":48,"column":1}},"13":{"start":{"line":25,"column":4},"end":{"line":27,"column":5}},"14":{"start":{"line":26,"column":8},"end":{"line":26,"column":84}},"15":{"start":{"line":29,"column":4},"end":{"line":31,"column":5}},"16":{"start":{"line":30,"column":8},"end":{"line":30,"column":86}},"17":{"start":{"line":33,"column":4},"end":{"line":35,"column":5}},"18":{"start":{"line":34,"column":8},"end":{"line":34,"column":92}},"19":{"start":{"line":37,"column":4},"end":{"line":39,"column":5}},"20":{"start":{"line":38,"column":8},"end":{"line":38,"column":129}},"21":{"start":{"line":41,"column":4},"end":{"line":43,"column":5}},"22":{"start":{"line":42,"column":8},"end":{"line":42,"column":68}},"23":{"start":{"line":45,"column":4},"end":{"line":47,"column":5}},"24":{"start":{"line":46,"column":8},"end":{"line":46,"column":91}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":1,"column":306},"end":{"line":1,"column":328}},"loc":{"start":{"line":1,"column":334},"end":{"line":1,"column":390}},"line":1},"1":{"name":"validateMember","decl":{"start":{"line":3,"column":79},"end":{"line":3,"column":93}},"loc":{"start":{"line":3,"column":119},"end":{"line":21,"column":1}},"line":3},"2":{"name":"validateBook","decl":{"start":{"line":23,"column":75},"end":{"line":23,"column":87}},"loc":{"start":{"line":23,"column":139},"end":{"line":48,"column":1}},"line":23}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":342},"end":{"line":1,"column":388}},"type":"cond-expr","locations":[{"start":{"line":1,"column":366},"end":{"line":1,"column":369}},{"start":{"line":1,"column":372},"end":{"line":1,"column":388}}],"line":1},"1":{"loc":{"start":{"line":1,"column":342},"end":{"line":1,"column":363}},"type":"binary-expr","locations":[{"start":{"line":1,"column":342},"end":{"line":1,"column":345}},{"start":{"line":1,"column":349},"end":{"line":1,"column":363}}],"line":1},"2":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5},"3":{"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":55}},"type":"binary-expr","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":23}},{"start":{"line":5,"column":27},"end":{"line":5,"column":55}}],"line":5},"4":{"loc":{"start":{"line":9,"column":4},"end":{"line":11,"column":5}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":11,"column":5}},{"start":{"line":9,"column":4},"end":{"line":11,"column":5}}],"line":9},"5":{"loc":{"start":{"line":13,"column":4},"end":{"line":15,"column":5}},"type":"if","locations":[{"start":{"line":13,"column":4},"end":{"line":15,"column":5}},{"start":{"line":13,"column":4},"end":{"line":15,"column":5}}],"line":13},"6":{"loc":{"start":{"line":17,"column":4},"end":{"line":19,"column":5}},"type":"if","locations":[{"start":{"line":17,"column":4},"end":{"line":19,"column":5}},{"start":{"line":17,"column":4},"end":{"line":19,"column":5}}],"line":17},"7":{"loc":{"start":{"line":17,"column":8},"end":{"line":17,"column":120}},"type":"binary-expr","locations":[{"start":{"line":17,"column":8},"end":{"line":17,"column":21}},{"start":{"line":17,"column":25},"end":{"line":17,"column":120}}],"line":17},"8":{"loc":{"start":{"line":25,"column":4},"end":{"line":27,"column":5}},"type":"if","locations":[{"start":{"line":25,"column":4},"end":{"line":27,"column":5}},{"start":{"line":25,"column":4},"end":{"line":27,"column":5}}],"line":25},"9":{"loc":{"start":{"line":25,"column":8},"end":{"line":25,"column":50}},"type":"binary-expr","locations":[{"start":{"line":25,"column":8},"end":{"line":25,"column":35}},{"start":{"line":25,"column":39},"end":{"line":25,"column":50}}],"line":25},"10":{"loc":{"start":{"line":29,"column":4},"end":{"line":31,"column":5}},"type":"if","locations":[{"start":{"line":29,"column":4},"end":{"line":31,"column":5}},{"start":{"line":29,"column":4},"end":{"line":31,"column":5}}],"line":29},"11":{"loc":{"start":{"line":29,"column":8},"end":{"line":29,"column":54}},"type":"binary-expr","locations":[{"start":{"line":29,"column":8},"end":{"line":29,"column":37}},{"start":{"line":29,"column":41},"end":{"line":29,"column":54}}],"line":29},"12":{"loc":{"start":{"line":33,"column":4},"end":{"line":35,"column":5}},"type":"if","locations":[{"start":{"line":33,"column":4},"end":{"line":35,"column":5}},{"start":{"line":33,"column":4},"end":{"line":35,"column":5}}],"line":33},"13":{"loc":{"start":{"line":33,"column":8},"end":{"line":33,"column":64}},"type":"binary-expr","locations":[{"start":{"line":33,"column":8},"end":{"line":33,"column":42}},{"start":{"line":33,"column":46},"end":{"line":33,"column":64}}],"line":33},"14":{"loc":{"start":{"line":37,"column":4},"end":{"line":39,"column":5}},"type":"if","locations":[{"start":{"line":37,"column":4},"end":{"line":39,"column":5}},{"start":{"line":37,"column":4},"end":{"line":39,"column":5}}],"line":37},"15":{"loc":{"start":{"line":41,"column":4},"end":{"line":43,"column":5}},"type":"if","locations":[{"start":{"line":41,"column":4},"end":{"line":43,"column":5}},{"start":{"line":41,"column":4},"end":{"line":43,"column":5}}],"line":41},"16":{"loc":{"start":{"line":41,"column":8},"end":{"line":41,"column":91}},"type":"binary-expr","locations":[{"start":{"line":41,"column":8},"end":{"line":41,"column":21}},{"start":{"line":41,"column":25},"end":{"line":41,"column":91}}],"line":41},"17":{"loc":{"start":{"line":45,"column":4},"end":{"line":47,"column":5}},"type":"if","locations":[{"start":{"line":45,"column":4},"end":{"line":47,"column":5}},{"start":{"line":45,"column":4},"end":{"line":47,"column":5}}],"line":45},"18":{"loc":{"start":{"line":45,"column":8},"end":{"line":45,"column":49}},"type":"binary-expr","locations":[{"start":{"line":45,"column":8},"end":{"line":45,"column":15}},{"start":{"line":45,"column":19},"end":{"line":45,"column":49}}],"line":45}},"s":{"0":2,"1":2,"2":2,"3":2,"4":9,"5":3,"6":6,"7":1,"8":5,"9":1,"10":4,"11":1,"12":2,"13":12,"14":2,"15":10,"16":2,"17":8,"18":2,"19":6,"20":1,"21":5,"22":1,"23":4,"24":1},"f":{"0":2,"1":9,"2":12},"b":{"0":[0,2],"1":[2,2],"2":[3,6],"3":[9,7],"4":[1,5],"5":[1,4],"6":[1,3],"7":[4,3],"8":[2,10],"9":[12,11],"10":[2,8],"11":[10,9],"12":[2,6],"13":[8,7],"14":[1,5],"15":[1,4],"16":[5,5],"17":[1,3],"18":[4,4]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"8ae657350f7b6511dba18de3f87ea449a6e6a768","code":["import validator from 'validator';","","export const validateMember = (username, contactNumber) => {","","    if(username === '' || typeof(username) === 'number') {","        throw new Error('Username cannot be empty and it should be a string containing atleast one character.')","    }","","    if (!validator.matches(username, /[a-zA-Z0-9\\s]{6,12}/i)) {","        throw new Error('Username should be between 6-12 characters/digits. Cannot contain special characters. Should be a string.');","    }","","    if (typeof(contactNumber) === 'number') {","        throw new Error('Contact number should be a string.');","    }","","    if (contactNumber && !validator.isNumeric(contactNumber)) {","        throw new Error('Contact number can contain only numbers.')","    }","","}","","export const validateBook = (name, author, edition, publishedDate, shelfNumber) => {","","    if (!(typeof(name) === 'string') || name === '') {","        throw new Error('Name of the book cannot be empty and should be a string.');","    }","   ","    if (!(typeof(author) === 'string') || author === '') {","        throw new Error('Author of the book cannot be empty and should be a string.');","    }","","    if (!(typeof(shelfNumber) === 'string') || shelfNumber === '') {","        throw new Error('Shelf number of the book cannot be empty and should be a string.');","    }","","    if (!validator.matches(name, /[a-zA-Z0-9\\s]{6,20}/i)) {","        throw new Error('Name of the book has to contain between 6 and 20 characters and it cannot contain special characters.');","    }","","    if(publishedDate && !publishedDate.match(/[0-9]{2}\\/[0-9]{2}\\/[1,2][7,8,9,0][0-9]{2}/)) {","        throw new Error('Published date of the book is not valid.');","    }","","    if (edition && !(typeof(edition) === 'string')) {","        throw new Error('Edition number of the book is not valid. It has to be a number.');","    }","}"]},"/Users/nvaithyanathan/Desktop/Node/library-application/library-app/controllers/memberController.js":{"path":"/Users/nvaithyanathan/Desktop/Node/library-application/library-app/controllers/memberController.js","statementMap":{"0":{"start":{"line":1,"column":37},"end":{"line":1,"column":99}},"1":{"start":{"line":1,"column":99},"end":{"line":1,"column":132}},"2":{"start":{"line":3,"column":178},"end":{"line":3,"column":232}},"3":{"start":{"line":3,"column":265},"end":{"line":3,"column":665}},"4":{"start":{"line":3,"column":295},"end":{"line":3,"column":320}},"5":{"start":{"line":3,"column":321},"end":{"line":3,"column":663}},"6":{"start":{"line":3,"column":393},"end":{"line":3,"column":485}},"7":{"start":{"line":3,"column":409},"end":{"line":3,"column":422}},"8":{"start":{"line":3,"column":435},"end":{"line":3,"column":445}},"9":{"start":{"line":3,"column":463},"end":{"line":3,"column":477}},"10":{"start":{"line":3,"column":477},"end":{"line":3,"column":484}},"11":{"start":{"line":3,"column":485},"end":{"line":3,"column":639}},"12":{"start":{"line":3,"column":501},"end":{"line":3,"column":516}},"13":{"start":{"line":3,"column":524},"end":{"line":3,"column":638}},"14":{"start":{"line":3,"column":577},"end":{"line":3,"column":597}},"15":{"start":{"line":3,"column":616},"end":{"line":3,"column":635}},"16":{"start":{"line":3,"column":640},"end":{"line":3,"column":660}},"17":{"start":{"line":5,"column":43},"end":{"line":13,"column":1}},"18":{"start":{"line":7,"column":47},"end":{"line":7,"column":98}},"19":{"start":{"line":9,"column":4},"end":{"line":9,"column":700}},"20":{"start":{"line":9,"column":82},"end":{"line":9,"column":630}},"21":{"start":{"line":9,"column":631},"end":{"line":9,"column":695}},"22":{"start":{"line":9,"column":658},"end":{"line":9,"column":693}},"23":{"start":{"line":10,"column":4},"end":{"line":10,"column":719}},"24":{"start":{"line":10,"column":89},"end":{"line":10,"column":647}},"25":{"start":{"line":10,"column":648},"end":{"line":10,"column":714}},"26":{"start":{"line":10,"column":676},"end":{"line":10,"column":712}},"27":{"start":{"line":12,"column":4},"end":{"line":12,"column":24}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":3,"column":149},"end":{"line":3,"column":171}},"loc":{"start":{"line":3,"column":177},"end":{"line":3,"column":233}},"line":3},"1":{"name":"_asyncToGenerator","decl":{"start":{"line":3,"column":242},"end":{"line":3,"column":259}},"loc":{"start":{"line":3,"column":264},"end":{"line":3,"column":666}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":272},"end":{"line":3,"column":273}},"loc":{"start":{"line":3,"column":284},"end":{"line":3,"column":664}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":3,"column":340},"end":{"line":3,"column":341}},"loc":{"start":{"line":3,"column":367},"end":{"line":3,"column":661}},"line":3},"4":{"name":"step","decl":{"start":{"line":3,"column":377},"end":{"line":3,"column":381}},"loc":{"start":{"line":3,"column":392},"end":{"line":3,"column":640}},"line":3},"5":{"name":"(anonymous_5)","decl":{"start":{"line":3,"column":559},"end":{"line":3,"column":560}},"loc":{"start":{"line":3,"column":576},"end":{"line":3,"column":598}},"line":3},"6":{"name":"(anonymous_6)","decl":{"start":{"line":3,"column":600},"end":{"line":3,"column":601}},"loc":{"start":{"line":3,"column":615},"end":{"line":3,"column":636}},"line":3},"7":{"name":"memberRouter","decl":{"start":{"line":5,"column":99},"end":{"line":5,"column":111}},"loc":{"start":{"line":5,"column":114},"end":{"line":13,"column":1}},"line":5},"8":{"name":"(anonymous_8)","decl":{"start":{"line":9,"column":58},"end":{"line":9,"column":59}},"loc":{"start":{"line":9,"column":70},"end":{"line":9,"column":696}},"line":9},"9":{"name":"_callee","decl":{"start":{"line":9,"column":171},"end":{"line":9,"column":178}},"loc":{"start":{"line":9,"column":213},"end":{"line":9,"column":628}},"line":9},"10":{"name":"(anonymous_10)","decl":{"start":{"line":9,"column":638},"end":{"line":9,"column":639}},"loc":{"start":{"line":9,"column":657},"end":{"line":9,"column":694}},"line":9},"11":{"name":"(anonymous_11)","decl":{"start":{"line":10,"column":64},"end":{"line":10,"column":65}},"loc":{"start":{"line":10,"column":76},"end":{"line":10,"column":715}},"line":10},"12":{"name":"_callee2","decl":{"start":{"line":10,"column":178},"end":{"line":10,"column":186}},"loc":{"start":{"line":10,"column":221},"end":{"line":10,"column":645}},"line":10},"13":{"name":"(anonymous_13)","decl":{"start":{"line":10,"column":655},"end":{"line":10,"column":656}},"loc":{"start":{"line":10,"column":675},"end":{"line":10,"column":713}},"line":10}},"branchMap":{"0":{"loc":{"start":{"line":3,"column":185},"end":{"line":3,"column":231}},"type":"cond-expr","locations":[{"start":{"line":3,"column":209},"end":{"line":3,"column":212}},{"start":{"line":3,"column":215},"end":{"line":3,"column":231}}],"line":3},"1":{"loc":{"start":{"line":3,"column":185},"end":{"line":3,"column":206}},"type":"binary-expr","locations":[{"start":{"line":3,"column":185},"end":{"line":3,"column":188}},{"start":{"line":3,"column":192},"end":{"line":3,"column":206}}],"line":3},"2":{"loc":{"start":{"line":3,"column":485},"end":{"line":3,"column":639}},"type":"if","locations":[{"start":{"line":3,"column":485},"end":{"line":3,"column":639}},{"start":{"line":3,"column":485},"end":{"line":3,"column":639}}],"line":3}},"s":{"0":2,"1":2,"2":4,"3":4,"4":12,"5":12,"6":12,"7":12,"8":12,"9":0,"10":0,"11":12,"12":12,"13":0,"14":0,"15":0,"16":12,"17":2,"18":2,"19":2,"20":2,"21":2,"22":9,"23":2,"24":2,"25":2,"26":3,"27":2},"f":{"0":4,"1":4,"2":12,"3":12,"4":12,"5":0,"6":0,"7":2,"8":2,"9":9,"10":9,"11":2,"12":3,"13":3},"b":{"0":[2,2],"1":[4,4],"2":[12,0]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"8a2b767794b89f925e1108355f324089c33c85e8","code":["import express from 'express';","import { requestHandler } from '../middleware/handlers.js';","import MemberFunctions from '../logic/member.js';","","export const memberRouter = () => {","","    const memberRouter = express.Router();","","    memberRouter.post   ('/members',     async (req, res) => requestHandler(req, res, MemberFunctions.registerMember));","    memberRouter.delete ('/members/:id', async (req, res) => requestHandler(req, res, MemberFunctions.unRegisterMember));","","    return memberRouter;","};"]},"/Users/nvaithyanathan/Desktop/Node/library-application/library-app/logic/member.js":{"path":"/Users/nvaithyanathan/Desktop/Node/library-application/library-app/logic/member.js","statementMap":{"0":{"start":{"line":1,"column":37},"end":{"line":1,"column":99}},"1":{"start":{"line":1,"column":118},"end":{"line":1,"column":647}},"2":{"start":{"line":1,"column":173},"end":{"line":1,"column":438}},"3":{"start":{"line":1,"column":230},"end":{"line":1,"column":238}},"4":{"start":{"line":1,"column":239},"end":{"line":1,"column":294}},"5":{"start":{"line":1,"column":294},"end":{"line":1,"column":325}},"6":{"start":{"line":1,"column":325},"end":{"line":1,"column":379}},"7":{"start":{"line":1,"column":352},"end":{"line":1,"column":379}},"8":{"start":{"line":1,"column":379},"end":{"line":1,"column":437}},"9":{"start":{"line":1,"column":439},"end":{"line":1,"column":644}},"10":{"start":{"line":1,"column":495},"end":{"line":1,"column":563}},"11":{"start":{"line":1,"column":511},"end":{"line":1,"column":563}},"12":{"start":{"line":1,"column":563},"end":{"line":1,"column":623}},"13":{"start":{"line":1,"column":580},"end":{"line":1,"column":623}},"14":{"start":{"line":1,"column":623},"end":{"line":1,"column":642}},"15":{"start":{"line":5,"column":225},"end":{"line":5,"column":372}},"16":{"start":{"line":5,"column":242},"end":{"line":5,"column":346}},"17":{"start":{"line":5,"column":354},"end":{"line":5,"column":371}},"18":{"start":{"line":5,"column":372},"end":{"line":5,"column":383}},"19":{"start":{"line":5,"column":416},"end":{"line":5,"column":816}},"20":{"start":{"line":5,"column":446},"end":{"line":5,"column":471}},"21":{"start":{"line":5,"column":472},"end":{"line":5,"column":814}},"22":{"start":{"line":5,"column":544},"end":{"line":5,"column":636}},"23":{"start":{"line":5,"column":560},"end":{"line":5,"column":573}},"24":{"start":{"line":5,"column":586},"end":{"line":5,"column":596}},"25":{"start":{"line":5,"column":614},"end":{"line":5,"column":628}},"26":{"start":{"line":5,"column":628},"end":{"line":5,"column":635}},"27":{"start":{"line":5,"column":636},"end":{"line":5,"column":790}},"28":{"start":{"line":5,"column":652},"end":{"line":5,"column":667}},"29":{"start":{"line":5,"column":675},"end":{"line":5,"column":789}},"30":{"start":{"line":5,"column":728},"end":{"line":5,"column":748}},"31":{"start":{"line":5,"column":767},"end":{"line":5,"column":786}},"32":{"start":{"line":5,"column":791},"end":{"line":5,"column":811}},"33":{"start":{"line":5,"column":866},"end":{"line":5,"column":965}},"34":{"start":{"line":5,"column":907},"end":{"line":5,"column":964}},"35":{"start":{"line":7,"column":9},"end":{"line":101,"column":280}},"36":{"start":{"line":7,"column":41},"end":{"line":7,"column":71}},"37":{"start":{"line":7,"column":72},"end":{"line":101,"column":263}},"38":{"start":{"line":7,"column":156},"end":{"line":50,"column":158}},"39":{"start":{"line":9,"column":129},"end":{"line":50,"column":155}},"40":{"start":{"line":9,"column":189},"end":{"line":50,"column":126}},"41":{"start":{"line":9,"column":200},"end":{"line":50,"column":125}},"42":{"start":{"line":9,"column":247},"end":{"line":11,"column":284}},"43":{"start":{"line":12,"column":32},"end":{"line":12,"column":53}},"44":{"start":{"line":13,"column":32},"end":{"line":13,"column":56}},"45":{"start":{"line":15,"column":156},"end":{"line":15,"column":174}},"46":{"start":{"line":15,"column":174},"end":{"line":15,"column":192}},"47":{"start":{"line":15,"column":192},"end":{"line":22,"column":192}},"48":{"start":{"line":22,"column":199},"end":{"line":22,"column":230}},"49":{"start":{"line":22,"column":230},"end":{"line":26,"column":75}},"50":{"start":{"line":26,"column":49},"end":{"line":26,"column":68}},"51":{"start":{"line":26,"column":68},"end":{"line":26,"column":74}},"52":{"start":{"line":26,"column":75},"end":{"line":29,"column":100}},"53":{"start":{"line":29,"column":108},"end":{"line":29,"column":127}},"54":{"start":{"line":29,"column":127},"end":{"line":35,"column":73}},"55":{"start":{"line":35,"column":81},"end":{"line":35,"column":109}},"56":{"start":{"line":35,"column":109},"end":{"line":40,"column":89}},"57":{"start":{"line":40,"column":97},"end":{"line":40,"column":116}},"58":{"start":{"line":40,"column":116},"end":{"line":40,"column":151}},"59":{"start":{"line":46,"column":142},"end":{"line":50,"column":82}},"60":{"start":{"line":50,"column":101},"end":{"line":50,"column":124}},"61":{"start":{"line":50,"column":188},"end":{"line":50,"column":223}},"62":{"start":{"line":50,"column":224},"end":{"line":50,"column":246}},"63":{"start":{"line":50,"column":312},"end":{"line":101,"column":161}},"64":{"start":{"line":56,"column":47},"end":{"line":101,"column":158}},"65":{"start":{"line":56,"column":109},"end":{"line":101,"column":128}},"66":{"start":{"line":56,"column":120},"end":{"line":101,"column":127}},"67":{"start":{"line":57,"column":32},"end":{"line":57,"column":57}},"68":{"start":{"line":57,"column":57},"end":{"line":57,"column":76}},"69":{"start":{"line":57,"column":76},"end":{"line":57,"column":95}},"70":{"start":{"line":57,"column":95},"end":{"line":63,"column":63}},"71":{"start":{"line":63,"column":70},"end":{"line":63,"column":102}},"72":{"start":{"line":63,"column":102},"end":{"line":67,"column":75}},"73":{"start":{"line":67,"column":49},"end":{"line":67,"column":68}},"74":{"start":{"line":67,"column":68},"end":{"line":67,"column":74}},"75":{"start":{"line":67,"column":75},"end":{"line":70,"column":94}},"76":{"start":{"line":70,"column":101},"end":{"line":74,"column":90}},"77":{"start":{"line":74,"column":64},"end":{"line":74,"column":83}},"78":{"start":{"line":74,"column":83},"end":{"line":74,"column":89}},"79":{"start":{"line":74,"column":90},"end":{"line":77,"column":93}},"80":{"start":{"line":79,"column":33},"end":{"line":79,"column":53}},"81":{"start":{"line":79,"column":53},"end":{"line":85,"column":63}},"82":{"start":{"line":85,"column":71},"end":{"line":91,"column":91}},"83":{"start":{"line":91,"column":99},"end":{"line":91,"column":119}},"84":{"start":{"line":91,"column":119},"end":{"line":91,"column":156}},"85":{"start":{"line":97,"column":143},"end":{"line":101,"column":83}},"86":{"start":{"line":101,"column":102},"end":{"line":101,"column":126}},"87":{"start":{"line":101,"column":194},"end":{"line":101,"column":230}},"88":{"start":{"line":101,"column":231},"end":{"line":101,"column":255}},"89":{"start":{"line":101,"column":263},"end":{"line":101,"column":277}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":1,"column":118},"end":{"line":1,"column":119}},"loc":{"start":{"line":1,"column":130},"end":{"line":1,"column":645}},"line":1},"1":{"name":"defineProperties","decl":{"start":{"line":1,"column":140},"end":{"line":1,"column":156}},"loc":{"start":{"line":1,"column":172},"end":{"line":1,"column":439}},"line":1},"2":{"name":"(anonymous_2)","decl":{"start":{"line":1,"column":446},"end":{"line":1,"column":447}},"loc":{"start":{"line":1,"column":494},"end":{"line":1,"column":643}},"line":1},"3":{"name":"_defineProperty","decl":{"start":{"line":5,"column":191},"end":{"line":5,"column":206}},"loc":{"start":{"line":5,"column":224},"end":{"line":5,"column":384}},"line":5},"4":{"name":"_asyncToGenerator","decl":{"start":{"line":5,"column":393},"end":{"line":5,"column":410}},"loc":{"start":{"line":5,"column":415},"end":{"line":5,"column":817}},"line":5},"5":{"name":"(anonymous_5)","decl":{"start":{"line":5,"column":423},"end":{"line":5,"column":424}},"loc":{"start":{"line":5,"column":435},"end":{"line":5,"column":815}},"line":5},"6":{"name":"(anonymous_6)","decl":{"start":{"line":5,"column":491},"end":{"line":5,"column":492}},"loc":{"start":{"line":5,"column":518},"end":{"line":5,"column":812}},"line":5},"7":{"name":"step","decl":{"start":{"line":5,"column":528},"end":{"line":5,"column":532}},"loc":{"start":{"line":5,"column":543},"end":{"line":5,"column":791}},"line":5},"8":{"name":"(anonymous_8)","decl":{"start":{"line":5,"column":710},"end":{"line":5,"column":711}},"loc":{"start":{"line":5,"column":727},"end":{"line":5,"column":749}},"line":5},"9":{"name":"(anonymous_9)","decl":{"start":{"line":5,"column":751},"end":{"line":5,"column":752}},"loc":{"start":{"line":5,"column":766},"end":{"line":5,"column":787}},"line":5},"10":{"name":"_classCallCheck","decl":{"start":{"line":5,"column":826},"end":{"line":5,"column":841}},"loc":{"start":{"line":5,"column":865},"end":{"line":5,"column":966}},"line":5},"11":{"name":"(anonymous_11)","decl":{"start":{"line":7,"column":9},"end":{"line":7,"column":10}},"loc":{"start":{"line":7,"column":21},"end":{"line":101,"column":278}},"line":7},"12":{"name":"Member","decl":{"start":{"line":7,"column":31},"end":{"line":7,"column":37}},"loc":{"start":{"line":7,"column":40},"end":{"line":7,"column":72}},"line":7},"13":{"name":"(anonymous_13)","decl":{"start":{"line":7,"column":132},"end":{"line":7,"column":133}},"loc":{"start":{"line":7,"column":144},"end":{"line":50,"column":247}},"line":7},"14":{"name":"_callee","decl":{"start":{"line":7,"column":221},"end":{"line":7,"column":228}},"loc":{"start":{"line":9,"column":17},"end":{"line":50,"column":156}},"line":9},"15":{"name":"_callee$","decl":{"start":{"line":9,"column":169},"end":{"line":9,"column":177}},"loc":{"start":{"line":9,"column":188},"end":{"line":50,"column":127}},"line":9},"16":{"name":"registerMember","decl":{"start":{"line":50,"column":168},"end":{"line":50,"column":182}},"loc":{"start":{"line":50,"column":187},"end":{"line":50,"column":224}},"line":50},"17":{"name":"(anonymous_17)","decl":{"start":{"line":50,"column":287},"end":{"line":50,"column":288}},"loc":{"start":{"line":50,"column":299},"end":{"line":101,"column":256}},"line":50},"18":{"name":"_callee2","decl":{"start":{"line":50,"column":377},"end":{"line":50,"column":385}},"loc":{"start":{"line":56,"column":17},"end":{"line":101,"column":159}},"line":56},"19":{"name":"_callee2$","decl":{"start":{"line":56,"column":87},"end":{"line":56,"column":96}},"loc":{"start":{"line":56,"column":108},"end":{"line":101,"column":129}},"line":56},"20":{"name":"unRegisterMember","decl":{"start":{"line":101,"column":171},"end":{"line":101,"column":187}},"loc":{"start":{"line":101,"column":193},"end":{"line":101,"column":231}},"line":101}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":263},"end":{"line":1,"column":293}},"type":"binary-expr","locations":[{"start":{"line":1,"column":263},"end":{"line":1,"column":284}},{"start":{"line":1,"column":288},"end":{"line":1,"column":293}}],"line":1},"1":{"loc":{"start":{"line":1,"column":325},"end":{"line":1,"column":379}},"type":"if","locations":[{"start":{"line":1,"column":325},"end":{"line":1,"column":379}},{"start":{"line":1,"column":325},"end":{"line":1,"column":379}}],"line":1},"2":{"loc":{"start":{"line":1,"column":495},"end":{"line":1,"column":563}},"type":"if","locations":[{"start":{"line":1,"column":495},"end":{"line":1,"column":563}},{"start":{"line":1,"column":495},"end":{"line":1,"column":563}}],"line":1},"3":{"loc":{"start":{"line":1,"column":563},"end":{"line":1,"column":623}},"type":"if","locations":[{"start":{"line":1,"column":563},"end":{"line":1,"column":623}},{"start":{"line":1,"column":563},"end":{"line":1,"column":623}}],"line":1},"4":{"loc":{"start":{"line":5,"column":225},"end":{"line":5,"column":372}},"type":"if","locations":[{"start":{"line":5,"column":225},"end":{"line":5,"column":372}},{"start":{"line":5,"column":225},"end":{"line":5,"column":372}}],"line":5},"5":{"loc":{"start":{"line":5,"column":636},"end":{"line":5,"column":790}},"type":"if","locations":[{"start":{"line":5,"column":636},"end":{"line":5,"column":790}},{"start":{"line":5,"column":636},"end":{"line":5,"column":790}}],"line":5},"6":{"loc":{"start":{"line":5,"column":866},"end":{"line":5,"column":965}},"type":"if","locations":[{"start":{"line":5,"column":866},"end":{"line":5,"column":965}},{"start":{"line":5,"column":866},"end":{"line":5,"column":965}}],"line":5},"7":{"loc":{"start":{"line":9,"column":200},"end":{"line":50,"column":125}},"type":"switch","locations":[{"start":{"line":9,"column":240},"end":{"line":22,"column":192}},{"start":{"line":22,"column":192},"end":{"line":29,"column":100}},{"start":{"line":29,"column":100},"end":{"line":35,"column":73}},{"start":{"line":35,"column":73},"end":{"line":40,"column":89}},{"start":{"line":40,"column":89},"end":{"line":50,"column":82}},{"start":{"line":50,"column":82},"end":{"line":50,"column":90}},{"start":{"line":50,"column":90},"end":{"line":50,"column":124}}],"line":9},"8":{"loc":{"start":{"line":11,"column":94},"end":{"line":11,"column":152}},"type":"cond-expr","locations":[{"start":{"line":11,"column":129},"end":{"line":11,"column":131}},{"start":{"line":11,"column":134},"end":{"line":11,"column":152}}],"line":11},"9":{"loc":{"start":{"line":11,"column":219},"end":{"line":11,"column":283}},"type":"cond-expr","locations":[{"start":{"line":11,"column":257},"end":{"line":11,"column":259}},{"start":{"line":11,"column":262},"end":{"line":11,"column":283}}],"line":11},"10":{"loc":{"start":{"line":22,"column":230},"end":{"line":26,"column":75}},"type":"if","locations":[{"start":{"line":22,"column":230},"end":{"line":26,"column":75}},{"start":{"line":22,"column":230},"end":{"line":26,"column":75}}],"line":22},"11":{"loc":{"start":{"line":56,"column":120},"end":{"line":101,"column":127}},"type":"switch","locations":[{"start":{"line":56,"column":162},"end":{"line":63,"column":63}},{"start":{"line":63,"column":63},"end":{"line":70,"column":94}},{"start":{"line":70,"column":94},"end":{"line":77,"column":93}},{"start":{"line":77,"column":93},"end":{"line":85,"column":63}},{"start":{"line":85,"column":63},"end":{"line":91,"column":91}},{"start":{"line":91,"column":91},"end":{"line":101,"column":83}},{"start":{"line":101,"column":83},"end":{"line":101,"column":91}},{"start":{"line":101,"column":91},"end":{"line":101,"column":126}}],"line":56},"12":{"loc":{"start":{"line":63,"column":102},"end":{"line":67,"column":75}},"type":"if","locations":[{"start":{"line":63,"column":102},"end":{"line":67,"column":75}},{"start":{"line":63,"column":102},"end":{"line":67,"column":75}}],"line":63},"13":{"loc":{"start":{"line":70,"column":101},"end":{"line":74,"column":90}},"type":"if","locations":[{"start":{"line":70,"column":101},"end":{"line":74,"column":90}},{"start":{"line":70,"column":101},"end":{"line":74,"column":90}}],"line":70}},"s":{"0":2,"1":2,"2":2,"3":4,"4":4,"5":4,"6":4,"7":4,"8":4,"9":2,"10":2,"11":0,"12":2,"13":2,"14":2,"15":3,"16":0,"17":3,"18":3,"19":4,"20":12,"21":12,"22":20,"23":20,"24":14,"25":6,"26":6,"27":14,"28":6,"29":8,"30":8,"31":0,"32":12,"33":0,"34":0,"35":2,"36":0,"37":2,"38":2,"39":9,"40":23,"41":25,"42":9,"43":9,"44":9,"45":3,"46":3,"47":3,"48":3,"49":3,"50":2,"51":2,"52":1,"53":2,"54":2,"55":1,"56":1,"57":1,"58":1,"59":1,"60":9,"61":9,"62":2,"63":2,"64":3,"65":10,"66":13,"67":3,"68":3,"69":3,"70":3,"71":3,"72":3,"73":2,"74":2,"75":1,"76":2,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":0,"84":0,"85":0,"86":3,"87":3,"88":2,"89":2},"f":{"0":2,"1":2,"2":2,"3":3,"4":4,"5":12,"6":12,"7":20,"8":8,"9":0,"10":0,"11":2,"12":0,"13":2,"14":9,"15":23,"16":9,"17":2,"18":3,"19":10,"20":3},"b":{"0":[4,4],"1":[4,0],"2":[0,2],"3":[2,0],"4":[0,3],"5":[6,8],"6":[0,0],"7":[9,3,2,1,1,0,9],"8":[1,8],"9":[5,4],"10":[2,1],"11":[3,3,2,1,1,0,0,3],"12":[2,1],"13":[1,1]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"6f6b5bf4d16e4deb75f375d5a84d22090eff230a","code":["import Sequelize from 'sequelize';","import { db } from '../db/db.js';","import logger from '../logger.js';","import HttpStatus from 'http-status-codes';","import { validateMember } from '../utils/util.js';","","export default class Member {","","    static async registerMember (req) {","","        const { username = '', contactNumber = '' } = req.body;","        let createdUser;","        let existingMember;","","        validateMember(username, contactNumber);","","        try {","","            existingMember = await db.member.findOne({","                where: {","                    username,","                    unRegisteredYN: { [Sequelize.Op.ne]: true }","                }","            });","","            if (existingMember) {","                return {","                    status: HttpStatus.BAD_REQUEST,","                    result: 'The requested user is already a registered member.'","                }","            }","","            createdUser = await db.member.create({","                username,","                contactNumber","            });","","            return {","                status: HttpStatus.CREATED,","                result: 'The requested user has been registered.'","            }","","        }","        catch (error) {","","            logger.error(error);","            return {","                status: HttpStatus.INTERNAL_SERVER_ERROR,","                result: 'Unable to register this user at the moment.',","                error","            }","","        }","    }","","    static async unRegisterMember (req) {","        const memberId = req.params.id;","","        try {","","            const existingMember = await db.member.findOne({","                where: { ","                    id: memberId","                }","            });","","            if (!existingMember) {","                return {","                    status: HttpStatus.BAD_REQUEST,","                    result: 'This user is not already registered with us.'","                }","            }","","            if (existingMember.unRegisteredYN) {","                return {","                    status: HttpStatus.OK,","                    result: 'This user has already unregsitered with us.'","                }","            };","","            await db.member.update({","                unRegisteredYN: true","            }, {","                where: {","                    id: memberId","                }","            });","","            return {","                status: HttpStatus.OK,","                result: 'The requested user has been unregistered.'","            }","","        }","        catch (error) {","","            logger.error(error);","            return {","                status: HttpStatus.INTERNAL_SERVER_ERROR,","                result: 'Unable to unregister this user at the moment.',","                error","            }","","        }","    }","","}"]},"/Users/nvaithyanathan/Desktop/Node/library-application/library-app/tests/testdata/populateDb.js":{"path":"/Users/nvaithyanathan/Desktop/Node/library-application/library-app/tests/testdata/populateDb.js","statementMap":{"0":{"start":{"line":1,"column":37},"end":{"line":1,"column":99}},"1":{"start":{"line":1,"column":99},"end":{"line":1,"column":164}},"2":{"start":{"line":3,"column":38},"end":{"line":8,"column":29}},"3":{"start":{"line":12,"column":36},"end":{"line":27,"column":28}},"4":{"start":{"line":31,"column":41},"end":{"line":48,"column":248}},"5":{"start":{"line":31,"column":86},"end":{"line":48,"column":177}},"6":{"start":{"line":48,"column":178},"end":{"line":48,"column":245}},"7":{"start":{"line":48,"column":208},"end":{"line":48,"column":243}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":31,"column":62},"end":{"line":31,"column":63}},"loc":{"start":{"line":31,"column":74},"end":{"line":48,"column":246}},"line":31},"1":{"name":"_callee","decl":{"start":{"line":31,"column":175},"end":{"line":31,"column":182}},"loc":{"start":{"line":31,"column":209},"end":{"line":48,"column":175}},"line":31},"2":{"name":"populateDb","decl":{"start":{"line":48,"column":194},"end":{"line":48,"column":204}},"loc":{"start":{"line":48,"column":207},"end":{"line":48,"column":244}},"line":48}},"branchMap":{},"s":{"0":2,"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2},"f":{"0":2,"1":2,"2":2},"b":{},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"f708a824a1fce7beecc459eac8af2a52836579ba","code":["import { db } from '../../db/db.js';","","export const members = [","    {","        username: \"abcdef\"","    },","    {","        username: \"qwertymnop\"","    }","];","","export const books = [","    {","        name: \"book11\",","        author: \"vaithy\",","        edition: \"5\",","        shelfNumber: \"5\",","        publishedDate: \"12/02/2017\",","        noOfBooksAvailable: 1","    },","    {","        name: \"book22\",","        author: \"vaithy\",","        edition: \"5\",","        shelfNumber: \"5\",","        publishedDate: \"12/02/2017\",","        noOfBooksAvailable: 1","    }","];","","export const populateDb = async () => {","","    await db.syncSchema();","        ","    await db.member.destroy({","        where: {},","        truncate: true","    });","","    await db.book.destroy({","        where: {},","        truncate: true","    });","","    await db.member.create(members[0]);","    await db.member.create(members[1]);","    await db.book.create(books[0]);","    await db.book.create(books[1]);","","}"]}}